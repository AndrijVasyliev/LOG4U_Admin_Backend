"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[714],{344:function(e,a,n){n.d(a,{Wn:function(){return u},BB:function(){return l},kg:function(){return s},He:function(){return i},_H:function(){return d},g7:function(){return o},np:function(){return m}});var r=n(3619),t=new URL(window.location.href).origin,c=function(e){var a,n,t={headers:new Headers};return t.headers.set("Authorization","Basic "+btoa((null===(a=r.b.user)||void 0===a?void 0:a.username)+":"+(null===(n=r.b.user)||void 0===n?void 0:n.password))),fetch(e,t)},o=function(e,a,n,r,o){var i=new URL("/truck",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.truckNumber&&i.searchParams.append("truckNumber","".concat(o.truckNumber)),null!==o&&void 0!==o&&o.lastLocation&&null!==o&&void 0!==o&&o.distance&&(i.searchParams.append("lastLocation","".concat(o.lastLocation)),i.searchParams.append("distance","".concat(o.distance))),c(i).then((function(e){return e.json()}))},i=function(e,a,n,r,o){var i=new URL("/location",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.search&&i.searchParams.append("search","".concat(o.search)),null!==o&&void 0!==o&&o.name&&i.searchParams.append("name","".concat(o.name)),c(i).then((function(e){return e.json()}))},s=function(e,a,n,r,o){var i=new URL("/load",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.loadNumber&&i.searchParams.append("loadNumber","".concat(o.loadNumber)),null!==o&&void 0!==o&&o.truckNumber&&i.searchParams.append("truckNumber","".concat(o.truckNumber)),c(i).then((function(e){return e.json()}))},d=function(e,a,n,r,o){var i=new URL("/owner",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.fullName&&i.searchParams.append("fullName","".concat(o.fullName)),null!==o&&void 0!==o&&o.truckNumber&&i.searchParams.append("truckNumber","".concat(o.truckNumber)),c(i).then((function(e){return e.json()}))},l=function(e,a,n,r,o){var i=new URL("/driver",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.fullName&&i.searchParams.append("fullName","".concat(o.fullName)),null!==o&&void 0!==o&&o.truckNumber&&i.searchParams.append("truckNumber","".concat(o.truckNumber)),c(i).then((function(e){return e.json()}))},u=function(e,a,n,r,o){var i=new URL("/coordinator",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.fullName&&i.searchParams.append("fullName","".concat(o.fullName)),null!==o&&void 0!==o&&o.truckNumber&&i.searchParams.append("truckNumber","".concat(o.truckNumber)),c(i).then((function(e){return e.json()}))},m=function(e,a,n,r,o){var i=new URL("/user",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.fullName&&i.searchParams.append("fullName","".concat(o.fullName)),c(i).then((function(e){return e.json()}))}},6714:function(e,a,n){n.r(a),n.d(a,{default:function(){return B}});var r=n(1413),t=n(9439),c=n(2791),o=n(8404),i=n(6934),s=n(2065),d=n(7391),l=n(9174),u=n(68),m=n(3994),p=n(4554),h=n(9836),f=n(3382),b=n(9281),P=n(6890),v=n(6812),x=n(5855),g=n(720),k=n(4663),j=n(890),Z=n(5527),N=n(3400),w=n(7247),C=n(1903),y=n(1528),S=n(5573),F=n(4765),L=n(344),R=n(184),D=[{id:"zipCode",orderField:"zipCode",getData:function(e){return{data:"".concat(e.zipCode)}},numeric:!0,disablePadding:!1,label:"Zip\xa0Code"},{id:"name",orderField:"name",getData:function(e){return{data:"".concat(e.name)}},numeric:!1,disablePadding:!0,label:"City\xa0Name"},{id:"stateCode",orderField:"stateCode",getData:function(e){return{data:"".concat(e.stateCode)}},numeric:!1,disablePadding:!0,label:"State\xa0Code"},{id:"stateName",orderField:"stateName",getData:function(e){return{data:"".concat(e.stateName)}},numeric:!1,disablePadding:!0,label:"State\xa0Name"},{id:"location",getData:function(e){return{data:"".concat(e.location.join(","))}},numeric:!1,disablePadding:!0,label:"Geo\xa0Point"}],U=(0,i.ZP)(P.Z)((function(e){return{backgroundColor:e.theme.palette.background.default}})),z=(0,i.ZP)(m.Z)((function(e){e.theme;return{maxWidth:"100px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}));function O(e){var a=e.onSelectAllClick,n=e.order,r=e.orderBy,t=e.numSelected,c=e.rowCount,o=e.onRequestSort;return(0,R.jsx)(U,{children:(0,R.jsxs)(x.Z,{children:[(0,R.jsx)(z,{padding:"checkbox",children:(0,R.jsx)(l.Z,{name:"enhanced-table-checkbox-select-all",color:"primary",indeterminate:t>0&&t<c,checked:c>0&&t===c,onChange:a,inputProps:{"aria-label":"enhanced-table-checkbox-select-all"}})}),D.map((function(e){return(0,R.jsx)(z,{align:e.numeric?"right":"center",padding:e.disablePadding?"none":"normal",sortDirection:r===e.id&&n,children:(0,R.jsxs)(g.Z,{active:e.orderField&&r===e.orderField,hideSortIcon:!e.orderField,direction:r===e.orderField?n:"asc",onClick:e.orderField?(a=e.orderField,function(e){o(e,a)}):function(){},children:[e.label,e.orderField&&r===e.orderField?(0,R.jsx)(p.Z,{component:"span",sx:S.Z,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var a}))]})})}function q(e){var a=e.numSelected,n=e.setQueryParams,o=c.useState(""),i=(0,t.Z)(o,2),l=i[0],m=i[1],p=c.useState(!1),h=(0,t.Z)(p,2),f=h[0],b=h[1];return(0,R.jsxs)(k.Z,{sx:(0,r.Z)({pl:{sm:2},pr:{xs:1,sm:1}},a>0&&{bgcolor:function(e){return(0,s.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[a>0?(0,R.jsxs)(j.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}):(0,R.jsx)(j.Z,{sx:{flex:"1 1 100%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},variant:"h6",id:"tableTitle",component:"div",children:"Locations"}),(0,R.jsx)(d.Z,{label:"City Name",id:"name",value:l,onChange:function(e){m(e.target.value),b(!0)},size:"small"}),1===a?(0,R.jsx)(u.Z,{title:"Delete",children:(0,R.jsx)(N.Z,{children:(0,R.jsx)(w.Z,{})})}):(0,R.jsx)(u.Z,{title:"Filter list",children:!f&&l||f&&!l?(0,R.jsx)(N.Z,{onClick:function(){b(!1),m(""),n({})},children:(0,R.jsx)(y.Z,{})}):(0,R.jsx)("span",{children:(0,R.jsx)(N.Z,{disabled:!l,onClick:function(){b(!1),n({search:l})},children:(0,R.jsx)(C.Z,{})})})})]})}function B(){var e=c.useState("asc"),a=(0,t.Z)(e,2),n=a[0],r=a[1],i=c.useState("name"),s=(0,t.Z)(i,2),d=s[0],u=s[1],m=c.useState([]),P=(0,t.Z)(m,2),g=P[0],k=P[1],j=c.useState(0),N=(0,t.Z)(j,2),w=N[0],C=N[1],y=c.useState(15),S=(0,t.Z)(y,2),U=S[0],B=S[1],H=c.useState({}),A=(0,t.Z)(H,2),I=A[0],T=A[1],W=c.useRef(null),_=(0,o.a)({queryKey:["locations",w,U,d,n,I],queryFn:function(){return(0,L.He)(w,U,d,n,I)},keepPreviousData:!0}),Q=_.isLoading,E=_.isFetching,G=_.data,K=void 0===G?{items:[],total:0}:G,J=K.items,M=K.total,V=J||[];c.useEffect((function(){W.current&&W.current.scrollTo({top:0,left:0,behavior:"smooth"})}),[V]);return(0,R.jsxs)(p.Z,{sx:{width:"100%",height:"100%"},children:[(0,R.jsxs)(Z.Z,{sx:{width:"100%",height:"100%",backgroundColor:"unset"},children:[(0,R.jsx)(q,{numSelected:g.length,setQueryParams:function(e){T(e),C(0)}}),(0,R.jsx)(b.Z,{ref:W,sx:{height:"calc(100% - 115px)"},children:(0,R.jsxs)(h.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",stickyHeader:!0,children:[(0,R.jsx)(O,{numSelected:g.length,order:n,orderBy:d,onSelectAllClick:function(e){if(e.target.checked){var a=V.map((function(e){return e.id}));k(a)}else k([])},onRequestSort:function(e,a){var t=d===a&&"asc"===n;d===a&&"desc"===n?(r(void 0),u(void 0)):(r(t?"desc":"asc"),u(a))},rowCount:V.length}),(0,R.jsx)(f.Z,{children:V.map((function(e,a){var n,r=(n="".concat(e.id),-1!==g.indexOf(n)),t="enhanced-table-checkbox-".concat(a);return(0,R.jsxs)(x.Z,{hover:!0,onClick:function(a){return function(e,a){var n=g.indexOf(a),r=[];-1===n?r=r.concat(g,a):0===n?r=r.concat(g.slice(1)):n===g.length-1?r=r.concat(g.slice(0,-1)):n>0&&(r=r.concat(g.slice(0,n),g.slice(n+1))),k(r)}(0,"".concat(e.id))},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,sx:{cursor:"pointer"},children:[(0,R.jsx)(z,{padding:"checkbox",children:(0,R.jsx)(l.Z,{id:"".concat(t),color:"primary",checked:r,inputProps:{"aria-labelledby":t}})}),D.map((function(a){var n=a.getData(e);return(0,R.jsx)(z,{title:n.title,align:a.numeric?"right":"center",children:n.data},a.id)}))]},e.id)}))})]})}),(0,R.jsx)(v.Z,{rowsPerPageOptions:[5,10,15,20,25,35,50],component:"div",count:M,rowsPerPage:U,page:w,onPageChange:function(e,a){C(a)},onRowsPerPageChange:function(e){B(parseInt(e.target.value,10)),C(0)}})]}),(0,R.jsx)(F.Z,{visible:Q||E})]})}}}]);
//# sourceMappingURL=714.bb8fe7d8.chunk.js.map