"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[709],{344:function(e,r,n){n.d(r,{WG:function(){return J},E8:function(){return V},hG:function(){return $},KZ:function(){return ee},mw:function(){return Y},ih:function(){return X},XM:function(){return Q},Wn:function(){return B},H1:function(){return G},k4:function(){return K},CI:function(){return _},t7:function(){return W},BB:function(){return z},oO:function(){return D},P9:function(){return T},vl:function(){return O},WE:function(){return E},kg:function(){return S},Mo:function(){return N},rz:function(){return k},W9:function(){return L},A0:function(){return R},He:function(){return P},qg:function(){return A},kD:function(){return U},dI:function(){return q},$X:function(){return H},zR:function(){return I},Vi:function(){return M},fH:function(){return F},_H:function(){return C},MW:function(){return g},RS:function(){return w},dC:function(){return y},hu:function(){return j},g7:function(){return Z},nh:function(){return te},uW:function(){return ne},fE:function(){return oe},c5:function(){return ae},np:function(){return re}});var t=n(9439),a=n(1413),o=n(5987),c=n(3619),i=["bodyObj"],s=["id"],u=["id"],l=["id"],d=["id"],f=["id"],h=["id"],m=["id"],p=["id"],v=["id"],b=new URL(window.location.href).origin,x=function(e){var r,n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=t.bodyObj,u=(0,o.Z)(t,i),l=(0,a.Z)((0,a.Z)({},u),{},{headers:new Headers});return l.headers.set("Authorization","Basic "+btoa((null===(r=c.b.user)||void 0===r?void 0:r.username)+":"+(null===(n=c.b.user)||void 0===n?void 0:n.password))),s&&"object"===typeof s&&(l.headers.set("Accept","application/json"),l.headers.set("Content-Type","application/json"),l.body=JSON.stringify(function(e){var r={};return Object.entries(e).forEach((function(e){Array.isArray(e[1])?r[e[0]]=e[1].map((function(e){return"object"!==typeof e||e instanceof Date?e:e.id})):"object"!==typeof e[1]||e[1]instanceof Date?r[e[0]]=e[1]:r[e[0]]=e[1]&&e[1].id})),r}(s))),fetch(e,l).catch((function(e){var r=new Error;throw r.cause=e,r.name="Fetch error",r.message="Network error has occurred",r})).then((function(e){if(200!==e.status&&201!==e.status){var r=new Error;if(r.cause=e,e.status)switch(r.name=e.status+" "+e.statusText,e.status){case 403:r.message="Insufficient permissions";break;case 404:r.message="Not found";break;case 409:r.message="Some field values invalidate unique constrain";break;default:r.message="Some server error has occurred"}else r.message="Network error has occurred";throw r}return e.json().catch((function(e){var r=new Error;throw r.cause=e,r.name="Fetch error",r.message="Server responded with incorrect data",r}))}))},Z=function(e){var r=(0,t.Z)(e.queryKey,6),n=(r[0],r[1]),a=r[2],o=r[3],c=r[4],i=r[5],s=new URL("/truck",b);return s.searchParams.append("limit","".concat(a)),s.searchParams.append("offset","".concat(a*n)),null!==i&&void 0!==i&&i.search&&s.searchParams.append("search","".concat(i.search)),o&&c&&(s.searchParams.append("orderby","".concat(o)),s.searchParams.append("direction","".concat(c))),null!==i&&void 0!==i&&i.truckNumber&&s.searchParams.append("truckNumber","".concat(i.truckNumber)),null!==i&&void 0!==i&&i.lastLocation&&null!==i&&void 0!==i&&i.distance&&(s.searchParams.append("lastLocation","".concat(i.lastLocation)),s.searchParams.append("distance","".concat(i.distance))),x(s)},w=function(e){var r=new URL("/truck/".concat(e),b);return x(r,{method:"DELETE"})},g=function(e){var r=new URL("/truck",b);return x(r,{method:"POST",bodyObj:e})},j=function(e){var r=e.id,n=(0,o.Z)(e,s),t=new URL("/truck/".concat(r),b);return x(t,{method:"PATCH",bodyObj:n})},y=function(e){var r=new URL("/truck/".concat(e.queryKey[1]),b);return x(r,{method:"GET"})},P=function(e){var r=(0,t.Z)(e.queryKey,6),n=(r[0],r[1]),a=r[2],o=r[3],c=r[4],i=r[5],s=new URL("/location",b);return s.searchParams.append("limit","".concat(a)),s.searchParams.append("offset","".concat(a*n)),o&&c&&(s.searchParams.append("orderby","".concat(o)),s.searchParams.append("direction","".concat(c))),null!==i&&void 0!==i&&i.search&&s.searchParams.append("search","".concat(i.search)),null!==i&&void 0!==i&&i.name&&s.searchParams.append("name","".concat(i.name)),x(s)},k=function(e){var r=new URL("/location/".concat(e),b);return x(r,{method:"DELETE"})},N=function(e){var r=new URL("/location",b);return x(r,{method:"POST",bodyObj:e})},R=function(e){var r=e.id,n=(0,o.Z)(e,u),t=new URL("/location/".concat(r),b);return x(t,{method:"PATCH",bodyObj:n})},L=function(e){var r=new URL("/location/".concat(e.queryKey[1]),b);return x(r,{method:"GET"})},S=function(e){var r=(0,t.Z)(e.queryKey,6),n=(r[0],r[1]),a=r[2],o=r[3],c=r[4],i=r[5],s=new URL("/load",b);return s.searchParams.append("limit","".concat(a)),s.searchParams.append("offset","".concat(a*n)),o&&c&&(s.searchParams.append("orderby","".concat(o)),s.searchParams.append("direction","".concat(c))),null!==i&&void 0!==i&&i.loadNumber&&s.searchParams.append("loadNumber","".concat(i.loadNumber)),null!==i&&void 0!==i&&i.truckNumber&&s.searchParams.append("truckNumber","".concat(i.truckNumber)),x(s)},T=function(e){var r=new URL("/load/".concat(e),b);return x(r,{method:"DELETE"})},D=function(e){var r=new URL("/load",b);return x(r,{method:"POST",bodyObj:e})},E=function(e){var r=e.id,n=(0,o.Z)(e,l),t=new URL("/load/".concat(r),b);return x(t,{method:"PATCH",bodyObj:n})},O=function(e){var r=new URL("/load/".concat(e.queryKey[1]),b);return x(r,{method:"GET"})},C=function(e){var r=(0,t.Z)(e.queryKey,6),n=(r[0],r[1]),a=r[2],o=r[3],c=r[4],i=r[5],s=new URL("/owner",b);return s.searchParams.append("limit","".concat(a)),s.searchParams.append("offset","".concat(a*n)),o&&c&&(s.searchParams.append("orderby","".concat(o)),s.searchParams.append("direction","".concat(c))),null!==i&&void 0!==i&&i.search&&s.searchParams.append("search","".concat(i.search)),null!==i&&void 0!==i&&i.fullName&&s.searchParams.append("fullName","".concat(i.fullName)),null!==i&&void 0!==i&&i.truckNumber&&s.searchParams.append("truckNumber","".concat(i.truckNumber)),x(s)},U=function(e){var r=new URL("/owner/".concat(e),b);return x(r,{method:"DELETE"})},A=function(e){var r=new URL("/owner",b);return x(r,{method:"POST",bodyObj:e})},F=function(e){var r=e.id,n=(0,o.Z)(e,d),t=new URL("/owner/".concat(r),b);return x(t,{method:"PATCH",bodyObj:n})},M=function(e){var r=new URL("/owner/".concat(e.queryKey[1]),b);return x(r,{method:"GET"})},q=function(e){var r=new URL("/ownerDriver",b);return x(r,{method:"POST",bodyObj:e})},I=function(e){var r=e.id,n=(0,o.Z)(e,f),t=new URL("/ownerDriver/".concat(r),b);return x(t,{method:"PATCH",bodyObj:n})},H=function(e){var r=new URL("/ownerDriver/".concat(e.queryKey[1]),b);return x(r,{method:"GET"})},z=function(e){var r=(0,t.Z)(e.queryKey,6),n=(r[0],r[1]),a=r[2],o=r[3],c=r[4],i=r[5],s=new URL("/driver",b);return s.searchParams.append("limit","".concat(a)),s.searchParams.append("offset","".concat(a*n)),o&&c&&(s.searchParams.append("orderby","".concat(o)),s.searchParams.append("direction","".concat(c))),null!==i&&void 0!==i&&i.search&&s.searchParams.append("search","".concat(i.search)),null!==i&&void 0!==i&&i.fullName&&s.searchParams.append("fullName","".concat(i.fullName)),null!==i&&void 0!==i&&i.truckNumber&&s.searchParams.append("truckNumber","".concat(i.truckNumber)),null!==i&&void 0!==i&&i.owner&&s.searchParams.append("owner","".concat(i.owner)),x(s)},K=function(e){var r=new URL("/driver/".concat(e),b);return x(r,{method:"DELETE"})},G=function(e){var r=new URL("/driver",b);return x(r,{method:"POST",bodyObj:e})},W=function(e){var r=e.id,n=(0,o.Z)(e,h),t=new URL("/driver/".concat(r),b);return x(t,{method:"PATCH",bodyObj:n})},_=function(e){var r=new URL("/driver/".concat(e.queryKey[1]),b);return x(r,{method:"GET"})},B=function(e){var r=(0,t.Z)(e.queryKey,6),n=(r[0],r[1]),a=r[2],o=r[3],c=r[4],i=r[5],s=new URL("/coordinator",b);return s.searchParams.append("limit","".concat(a)),s.searchParams.append("offset","".concat(a*n)),o&&c&&(s.searchParams.append("orderby","".concat(o)),s.searchParams.append("direction","".concat(c))),null!==i&&void 0!==i&&i.search&&s.searchParams.append("search","".concat(i.search)),null!==i&&void 0!==i&&i.fullName&&s.searchParams.append("fullName","".concat(i.fullName)),null!==i&&void 0!==i&&i.truckNumber&&s.searchParams.append("truckNumber","".concat(i.truckNumber)),null!==i&&void 0!==i&&i.owner&&s.searchParams.append("owner","".concat(i.owner)),x(s)},V=function(e){var r=new URL("/coordinator/".concat(e),b);return x(r,{method:"DELETE"})},J=function(e){var r=new URL("/coordinator",b);return x(r,{method:"POST",bodyObj:e})},Q=function(e){var r=e.id,n=(0,o.Z)(e,m),t=new URL("/coordinator/".concat(r),b);return x(t,{method:"PATCH",bodyObj:n})},X=function(e){var r=new URL("/coordinator/".concat(e.queryKey[1]),b);return x(r,{method:"GET"})},$=function(e){var r=new URL("/coordinatorDriver",b);return x(r,{method:"POST",bodyObj:e})},Y=function(e){var r=e.id,n=(0,o.Z)(e,p),t=new URL("/coordinatorDriver/".concat(r),b);return x(t,{method:"PATCH",bodyObj:n})},ee=function(e){var r=new URL("/coordinatorDriver/".concat(e.queryKey[1]),b);return x(r,{method:"GET"})},re=function(e){var r=(0,t.Z)(e.queryKey,6),n=(r[0],r[1]),a=r[2],o=r[3],c=r[4],i=r[5],s=new URL("/user",b);return s.searchParams.append("limit","".concat(a)),s.searchParams.append("offset","".concat(a*n)),o&&c&&(s.searchParams.append("orderby","".concat(o)),s.searchParams.append("direction","".concat(c))),null!==i&&void 0!==i&&i.search&&s.searchParams.append("search","".concat(i.search)),null!==i&&void 0!==i&&i.fullName&&s.searchParams.append("fullName","".concat(i.fullName)),x(s)},ne=function(e){var r=new URL("/user/".concat(e),b);return x(r,{method:"DELETE"})},te=function(e){var r=new URL("/user",b);return x(r,{method:"POST",bodyObj:e})},ae=function(e){var r=e.id,n=(0,o.Z)(e,v),t=new URL("/user/".concat(r),b);return x(t,{method:"PATCH",bodyObj:n})},oe=function(e){var r=new URL("/user/".concat(e.queryKey[1]),b);return x(r,{method:"GET"})}},6709:function(e,r,n){n.r(r),n.d(r,{default:function(){return Ze}});var t=n(1413),a=n(9439),o=n(2791),c=n(7689),i=n(6403),s=n(3418),u=n(2917),l=n(6934),d=n(2065),f=n(8550),h=n(9174),m=n(68),p=n(3994),v=n(4554),b=n(9836),x=n(3382),Z=n(9281),w=n(6890),g=n(3033),j=n(5855),y=n(720),P=n(4663),k=n(890),N=n(5527),R=n(3400),L=n(2419),S=n(1286),T=n(7247),D=n(1903),E=n(1528),O=n(5573),C=n(3366),U=n(7462),A=n(3733),F=n(4419),M=n(1402),q=n(9201),I=n(184),H=(0,q.Z)((0,I.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person"),z=n(5878),K=n(1217);function G(e){return(0,K.Z)("MuiAvatar",e)}(0,z.Z)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var W=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],_=(0,l.ZP)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,r[n.variant],n.colorDefault&&r.colorDefault]}})((function(e){var r=e.theme,n=e.ownerState;return(0,U.Z)({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},"rounded"===n.variant&&{borderRadius:(r.vars||r).shape.borderRadius},"square"===n.variant&&{borderRadius:0},n.colorDefault&&(0,U.Z)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:{backgroundColor:"light"===r.palette.mode?r.palette.grey[400]:r.palette.grey[600]}))})),B=(0,l.ZP)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:function(e,r){return r.img}})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),V=(0,l.ZP)(H,{name:"MuiAvatar",slot:"Fallback",overridesResolver:function(e,r){return r.fallback}})({width:"75%",height:"75%"});var J=o.forwardRef((function(e,r){var n=(0,M.Z)({props:e,name:"MuiAvatar"}),t=n.alt,c=n.children,i=n.className,s=n.component,u=void 0===s?"div":s,l=n.imgProps,d=n.sizes,f=n.src,h=n.srcSet,m=n.variant,p=void 0===m?"circular":m,v=(0,C.Z)(n,W),b=null,x=function(e){var r=e.crossOrigin,n=e.referrerPolicy,t=e.src,c=e.srcSet,i=o.useState(!1),s=(0,a.Z)(i,2),u=s[0],l=s[1];return o.useEffect((function(){if(t||c){l(!1);var e=!0,a=new Image;return a.onload=function(){e&&l("loaded")},a.onerror=function(){e&&l("error")},a.crossOrigin=r,a.referrerPolicy=n,a.src=t,c&&(a.srcset=c),function(){e=!1}}}),[r,n,t,c]),u}((0,U.Z)({},l,{src:f,srcSet:h})),Z=f||h,w=Z&&"error"!==x,g=(0,U.Z)({},n,{colorDefault:!w,component:u,variant:p}),j=function(e){var r=e.classes,n={root:["root",e.variant,e.colorDefault&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,F.Z)(n,G,r)}(g);return b=w?(0,I.jsx)(B,(0,U.Z)({alt:t,src:f,srcSet:h,sizes:d,ownerState:g,className:j.img},l)):null!=c?c:Z&&t?t[0]:(0,I.jsx)(V,{ownerState:g,className:j.fallback}),(0,I.jsx)(_,(0,U.Z)({as:u,ownerState:g,className:(0,A.Z)(j.root,i),ref:r},v,{children:b}))})),Q=n(493),X=n(5021),$=n(9480);function Y(e){return(0,K.Z)("MuiListItemAvatar",e)}(0,z.Z)("MuiListItemAvatar",["root","alignItemsFlexStart"]);var ee=["className"],re=(0,l.ZP)("div",{name:"MuiListItemAvatar",slot:"Root",overridesResolver:function(e,r){var n=e.ownerState;return[r.root,"flex-start"===n.alignItems&&r.alignItemsFlexStart]}})((function(e){var r=e.ownerState;return(0,U.Z)({minWidth:56,flexShrink:0},"flex-start"===r.alignItems&&{marginTop:8})})),ne=o.forwardRef((function(e,r){var n=(0,M.Z)({props:e,name:"MuiListItemAvatar"}),t=n.className,a=(0,C.Z)(n,ee),c=o.useContext($.Z),i=(0,U.Z)({},n,{alignItems:c.alignItems}),s=function(e){var r=e.alignItems,n=e.classes,t={root:["root","flex-start"===r&&"alignItemsFlexStart"]};return(0,F.Z)(t,Y,n)}(i);return(0,I.jsx)(re,(0,U.Z)({className:(0,A.Z)(s.root,t),ownerState:i,ref:r},a))})),te=n(6278),ae=n(9900),oe=n(5661),ce=n(5574),ie=n(501),se=n(427),ue=n(1605),le=n(344),de=n(4682),fe=n(5916),he=[{id:"fullName",orderField:"fullName",getData:function(e){return{data:"".concat(e.fullName)}},numeric:!1,disablePadding:!0,label:"Full\xa0name"},{id:"type",getData:function(e){var r="".concat((0,fe.oL)(e)," "),n="";return"Owner"===e.type&&(n="Owner"),"OwnerDriver"===e.type&&(n="Owner/Driver"),{data:(0,I.jsx)("span",{children:(0,I.jsx)("b",{children:r})}),title:n}},numeric:!1,disablePadding:!0,label:"Type"},{id:"phone",getData:function(e){var r="".concat(e.phone),n="".concat(e.phone2?e.phone2:"");return{data:(0,I.jsxs)("span",{children:[(0,I.jsx)("a",{href:"tel:".concat(r),target:"_blank",onClick:ve,children:r}),(0,I.jsx)("br",{}),(0,I.jsx)("a",{href:n?"tel:".concat(n):void 0,target:"_blank",onClick:ve,children:n||"\xa0"})]}),title:r+"\n"+n}},numeric:!1,disablePadding:!0,label:"Mobile\xa0phone"},{id:"email",getData:function(e){var r="".concat(e.email);return{data:(0,I.jsx)("span",{children:(0,I.jsx)("a",{href:"mailto:".concat(r),target:"_blank",onClick:ve,children:r})}),title:r}},numeric:!1,disablePadding:!0,label:"Email"},{id:"address",getData:function(e){var r="".concat(e.address);return{data:(0,I.jsx)("span",{children:r}),title:r}},numeric:!1,disablePadding:!0,label:"Address"},{id:"ownTrucks",getData:function(e){if(e.ownTrucks&&e.ownTrucks.length){var r=e.ownTrucks;return{data:(0,I.jsx)("span",{children:r.map((function(e,n){return(0,I.jsx)("a",{href:"/trucks/view/".concat(e.id),target:"_blank",onClick:ve,children:"".concat(e.truckNumber).concat(n===r.length-1?"":", ")},n)}))}),title:r.map((function(e){return e.truckNumber})).join(", ")}}return{data:""}},numeric:!1,disablePadding:!0,label:"OWN\xa0TRUCKS"},{id:"driversCoordinators",getData:function(e){if(e.coordinators||e.drivers){var r,n,t=new Map;null===(r=e.coordinators)||void 0===r||r.forEach((function(e){return t.set(e.id,{id:e.id,fullName:e.fullName,type:e.type})})),null===(n=e.drivers)||void 0===n||n.forEach((function(e){return!t.has(e.id)&&t.set(e.id,{id:e.id,fullName:e.fullName,type:e.type})}));var a=Array.from(t.values());return{data:(0,I.jsx)("span",{children:a.map((function(e,r){return(0,I.jsx)("a",{href:"./".concat((0,fe.DW)(e),"/view/").concat(e.id),target:"_blank",onClick:ve,children:"".concat(e.fullName).concat(r===a.length-1?"":", ")},e.id)}))}),title:a.map((function(e){return e.fullName})).join(", ")}}return{data:""}},numeric:!1,disablePadding:!0,label:"Drivers/coordinators"}],me=(0,l.ZP)(w.Z)((function(e){return{backgroundColor:e.theme.palette.background.default}})),pe=(0,l.ZP)(p.Z)((function(e){e.theme;return{maxWidth:"100px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}));function ve(e){e.stopPropagation()}function be(e){var r=e.onSelectAllClick,n=e.order,t=e.orderBy,a=e.numSelected,o=e.rowCount,c=e.onRequestSort;return(0,I.jsx)(me,{children:(0,I.jsxs)(j.Z,{children:[(0,I.jsx)(pe,{padding:"checkbox",children:(0,I.jsx)(h.Z,{name:"enhanced-table-checkbox-select-all",color:"primary",indeterminate:a>0&&a<o,checked:o>0&&a===o,onChange:r,inputProps:{"aria-label":"enhanced-table-checkbox-select-all"}})}),he.map((function(e){return(0,I.jsx)(pe,{align:e.numeric?"right":"center",padding:e.disablePadding?"none":"normal",sortDirection:t===e.id&&n,children:(0,I.jsxs)(y.Z,{active:e.orderField&&t===e.orderField,hideSortIcon:!e.orderField,direction:t===e.orderField?n:"asc",onClick:e.orderField?(r=e.orderField,function(e){c(e,r)}):function(){},children:[e.label,e.orderField&&t===e.orderField?(0,I.jsx)(v.Z,{component:"span",sx:O.Z,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var r}))]})})}function xe(e){var r=e.selected,n=e.setQueryParams,u=o.useState(!1),l=(0,a.Z)(u,2),h=l[0],p=l[1],b=o.useState(""),x=(0,a.Z)(b,2),Z=x[0],w=x[1],g=o.useState(0),j=(0,a.Z)(g,2),y=j[0],N=j[1],O=o.useState(!1),C=(0,a.Z)(O,2),U=C[0],A=C[1],F=(0,c.TH)(),M=(0,c.s0)(),q=(0,i.NL)(),H=(0,de.Ds)(),z=(0,s.D)(le.kD,{onSuccess:function(){H({severity:"success",message:"Deleted"}),q.invalidateQueries(["owners"])},onError:function(e){H({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),K=z.mutate,G=z.isLoading;return(0,I.jsxs)(P.Z,{sx:(0,t.Z)({pl:{sm:2},pr:{xs:1,sm:1}},r.length>0&&{bgcolor:function(e){return(0,d.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[r.length>0?(0,I.jsxs)(k.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[r.length," selected"]}):(0,I.jsx)(k.Z,{sx:{flex:"1 1 100%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},variant:"h6",id:"tableTitle",component:"div",children:"Owners"}),(0,I.jsx)(v.Z,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"140px"}},children:(0,I.jsx)(f.Z,{label:"Full name",value:Z,onChange:function(e){w(e.target.value),A(!0)},size:"small"})}),(0,I.jsx)(v.Z,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"140px"}},children:(0,I.jsx)(f.Z,{label:"Truck Number",value:y||"",onChange:function(e){Number.isFinite(Number(e.target.value))&&(N(Number(e.target.value)),A(!0))},size:"small"})}),(0,I.jsx)(m.Z,{title:"Filter list",children:!U&&(Z||y)||U&&!Z&&U&&!y?(0,I.jsx)("span",{children:(0,I.jsx)(R.Z,{onClick:function(){A(!1),w(""),N(0),n({})},children:(0,I.jsx)(E.Z,{})})}):(0,I.jsx)("span",{children:(0,I.jsx)(R.Z,{disabled:!Z&&!y,onClick:function(){A(!1);var e={};Z&&(e.fullName=Z),y&&(e.truckNumber=y),n(e)},children:(0,I.jsx)(D.Z,{})})})}),(0,I.jsxs)(v.Z,{sx:{p:1,display:"inline-flex"},children:[(0,I.jsx)(m.Z,{title:"Create",children:(0,I.jsx)("span",{children:(0,I.jsx)(R.Z,{onClick:function(){p(!0)},children:(0,I.jsx)(L.Z,{})})})}),(0,I.jsx)(m.Z,{title:"Edit",children:(0,I.jsx)("span",{children:(0,I.jsx)(R.Z,{disabled:1!==r.length,onClick:function(){M("./edit/".concat(r[0]),{relative:"path",state:{from:F},replace:!1})},children:(0,I.jsx)(S.Z,{})})})}),(0,I.jsx)(m.Z,{title:"Delete",children:(0,I.jsx)("span",{children:(0,I.jsx)(R.Z,{disabled:1!==r.length,onClick:function(){K("".concat(r[0]))},children:(0,I.jsx)(T.Z,{})})})})]}),(0,I.jsxs)(ce.Z,{onClose:function(){p(!1)},open:h,children:[(0,I.jsx)(oe.Z,{children:"Select, what type of owner to create"}),(0,I.jsxs)(Q.Z,{sx:{pt:0},children:[(0,I.jsx)(X.ZP,{disableGutters:!0,children:(0,I.jsxs)(te.Z,{onClick:function(){M("../owners/create",{relative:"path",state:{from:F},replace:!1})},children:[(0,I.jsx)(ne,{children:(0,I.jsx)(J,{sx:{bgcolor:se.Z[100],color:se.Z[600]},children:(0,I.jsx)(ie.Z,{})})}),(0,I.jsx)(ae.Z,{primary:"Owner"})]})},"owner"),(0,I.jsx)(X.ZP,{disableGutters:!0,children:(0,I.jsxs)(te.Z,{onClick:function(){M("../ownersDrivers/create",{relative:"path",state:{from:F},replace:!1})},children:[(0,I.jsx)(ne,{children:(0,I.jsx)(J,{sx:{bgcolor:se.Z[100],color:se.Z[600]},children:(0,I.jsx)(ie.Z,{})})}),(0,I.jsx)(ae.Z,{primary:"Owner-Driver"})]})},"ownerDriver")]})]}),(0,I.jsx)(ue.Z,{visible:G})]})}function Ze(){var e=o.useState("asc"),r=(0,a.Z)(e,2),n=r[0],t=r[1],i=o.useState("fullName"),s=(0,a.Z)(i,2),l=s[0],d=s[1],f=o.useState([]),m=(0,a.Z)(f,2),p=m[0],w=m[1],y=o.useState(0),P=(0,a.Z)(y,2),k=P[0],R=P[1],L=o.useState(15),S=(0,a.Z)(L,2),T=S[0],D=S[1],E=o.useState({}),O=(0,a.Z)(E,2),C=O[0],U=O[1],A=o.useRef(null),F=(0,c.TH)(),M=(0,c.s0)(),q=(0,de.Ds)(),H=(0,u.a)({queryKey:["owners",k,T,l,n,C],queryFn:le._H,keepPreviousData:!0,onError:function(e){q({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),z=H.isLoading,K=H.isFetching,G=H.data,W=void 0===G?{items:[],total:0}:G,_=W.items,B=W.total,V=_||[];o.useEffect((function(){A.current&&A.current.scrollTo({top:0,left:0,behavior:"smooth"})}),[V]),o.useEffect((function(){var e=[];p.forEach((function(r){V.find((function(e){return e.id===r}))&&e.push(r)})),w(e)}),[V]);return(0,I.jsxs)(v.Z,{sx:{width:"100%",height:"100%"},children:[(0,I.jsxs)(N.Z,{sx:{width:"100%",height:"100%",backgroundColor:"unset"},children:[(0,I.jsx)(xe,{selected:p,setQueryParams:function(e){U(e),R(0)}}),(0,I.jsx)(Z.Z,{ref:A,sx:{height:"calc(100% - 115px)"},children:(0,I.jsxs)(b.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",stickyHeader:!0,children:[(0,I.jsx)(be,{numSelected:p.length,order:n,orderBy:l,onSelectAllClick:function(e){if(e.target.checked){var r=V.map((function(e){return e.id}));w(r)}else w([])},onRequestSort:function(e,r){var a=l===r&&"asc"===n;l===r&&"desc"===n?(t(void 0),d(void 0)):(t(a?"desc":"asc"),d(r))},rowCount:V.length}),(0,I.jsx)(x.Z,{children:V.map((function(e,r){var n,t=(n="".concat(e.id),-1!==p.indexOf(n)),a="enhanced-table-checkbox-".concat(r);return(0,I.jsxs)(j.Z,{hover:!0,onClick:function(r){return n=e,void M("../".concat((0,fe.DW)(n),"/view/").concat(n.id),{relative:"path",state:{from:F},replace:!1});var n},role:"checkbox","aria-checked":t,tabIndex:-1,selected:t,sx:{cursor:"pointer"},children:[(0,I.jsx)(pe,{padding:"checkbox",children:(0,I.jsx)(h.Z,{id:"".concat(a),color:"primary",checked:t,inputProps:{"aria-labelledby":a},onClick:function(r){return function(e,r){e.stopPropagation();var n=p.indexOf(r),t=[];-1===n?t=t.concat(p,r):0===n?t=t.concat(p.slice(1)):n===p.length-1?t=t.concat(p.slice(0,-1)):n>0&&(t=t.concat(p.slice(0,n),p.slice(n+1))),w(t)}(r,"".concat(e.id))}})}),he.map((function(r){var n=r.getData(e);return(0,I.jsx)(pe,{title:n.title,align:r.numeric?"right":"center",children:n.data},r.id)}))]},e.id)}))})]})}),(0,I.jsx)(g.Z,{rowsPerPageOptions:[5,10,15,20,25,35,50],component:"div",count:B,rowsPerPage:T,page:k,onPageChange:function(e,r){R(r)},onRowsPerPageChange:function(e){D(parseInt(e.target.value,10)),R(0)}})]}),(0,I.jsx)(ue.Z,{visible:z||K})]})}},2419:function(e,r,n){var t=n(4836);r.Z=void 0;var a=t(n(5649)),o=n(184),c=(0,a.default)((0,o.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");r.Z=c},7247:function(e,r,n){var t=n(4836);r.Z=void 0;var a=t(n(5649)),o=n(184),c=(0,a.default)((0,o.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");r.Z=c},1286:function(e,r,n){var t=n(4836);r.Z=void 0;var a=t(n(5649)),o=n(184),c=(0,a.default)((0,o.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");r.Z=c},501:function(e,r,n){var t=n(4836);r.Z=void 0;var a=t(n(5649)),o=n(184),c=(0,a.default)((0,o.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");r.Z=c},5661:function(e,r,n){var t=n(7462),a=n(3366),o=n(2791),c=n(3733),i=n(4419),s=n(890),u=n(6934),l=n(1402),d=n(7673),f=n(5090),h=n(184),m=["className","id"],p=(0,u.ZP)(s.Z,{name:"MuiDialogTitle",slot:"Root",overridesResolver:function(e,r){return r.root}})({padding:"16px 24px",flex:"0 0 auto"}),v=o.forwardRef((function(e,r){var n=(0,l.Z)({props:e,name:"MuiDialogTitle"}),s=n.className,u=n.id,v=(0,a.Z)(n,m),b=n,x=function(e){var r=e.classes;return(0,i.Z)({root:["root"]},d.a,r)}(b),Z=o.useContext(f.Z).titleId,w=void 0===Z?u:Z;return(0,h.jsx)(p,(0,t.Z)({component:"h2",className:(0,c.Z)(x.root,s),ownerState:b,ref:r,variant:"h6",id:null!=u?u:w},v))}));r.Z=v}}]);
//# sourceMappingURL=709.f0546044.chunk.js.map