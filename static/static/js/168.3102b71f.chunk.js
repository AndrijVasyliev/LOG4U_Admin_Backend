"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[168],{344:function(e,a,n){n.d(a,{Wn:function(){return u},BB:function(){return l},kg:function(){return d},He:function(){return o},_H:function(){return s},g7:function(){return i},np:function(){return m}});var r=n(3619),t=new URL(window.location.href).origin,c=function(e){var a,n,t={headers:new Headers};return t.headers.set("Authorization","Basic "+btoa((null===(a=r.b.user)||void 0===a?void 0:a.username)+":"+(null===(n=r.b.user)||void 0===n?void 0:n.password))),fetch(e,t)},i=function(e,a,n,r,i){var o=new URL("/truck",t);return o.searchParams.append("limit","".concat(a)),o.searchParams.append("offset","".concat(a*e)),n&&r&&(o.searchParams.append("orderby","".concat(n)),o.searchParams.append("direction","".concat(r))),null!==i&&void 0!==i&&i.truckNumber&&o.searchParams.append("truckNumber","".concat(i.truckNumber)),null!==i&&void 0!==i&&i.lastLocation&&null!==i&&void 0!==i&&i.distance&&(o.searchParams.append("lastLocation","".concat(i.lastLocation)),o.searchParams.append("distance","".concat(i.distance))),c(o).then((function(e){return e.json()}))},o=function(e,a,n,r,i){var o=new URL("/location",t);return o.searchParams.append("limit","".concat(a)),o.searchParams.append("offset","".concat(a*e)),n&&r&&(o.searchParams.append("orderby","".concat(n)),o.searchParams.append("direction","".concat(r))),null!==i&&void 0!==i&&i.search&&o.searchParams.append("search","".concat(i.search)),null!==i&&void 0!==i&&i.name&&o.searchParams.append("name","".concat(i.name)),c(o).then((function(e){return e.json()}))},d=function(e,a,n,r,i){var o=new URL("/load",t);return o.searchParams.append("limit","".concat(a)),o.searchParams.append("offset","".concat(a*e)),n&&r&&(o.searchParams.append("orderby","".concat(n)),o.searchParams.append("direction","".concat(r))),null!==i&&void 0!==i&&i.loadNumber&&o.searchParams.append("loadNumber","".concat(i.loadNumber)),null!==i&&void 0!==i&&i.truckNumber&&o.searchParams.append("truckNumber","".concat(i.truckNumber)),c(o).then((function(e){return e.json()}))},s=function(e,a,n,r,i){var o=new URL("/owner",t);return o.searchParams.append("limit","".concat(a)),o.searchParams.append("offset","".concat(a*e)),n&&r&&(o.searchParams.append("orderby","".concat(n)),o.searchParams.append("direction","".concat(r))),null!==i&&void 0!==i&&i.fullName&&o.searchParams.append("fullName","".concat(i.fullName)),null!==i&&void 0!==i&&i.truckNumber&&o.searchParams.append("truckNumber","".concat(i.truckNumber)),c(o).then((function(e){return e.json()}))},l=function(e,a,n,r,i){var o=new URL("/driver",t);return o.searchParams.append("limit","".concat(a)),o.searchParams.append("offset","".concat(a*e)),n&&r&&(o.searchParams.append("orderby","".concat(n)),o.searchParams.append("direction","".concat(r))),null!==i&&void 0!==i&&i.fullName&&o.searchParams.append("fullName","".concat(i.fullName)),null!==i&&void 0!==i&&i.truckNumber&&o.searchParams.append("truckNumber","".concat(i.truckNumber)),c(o).then((function(e){return e.json()}))},u=function(e,a,n,r,i){var o=new URL("/coordinator",t);return o.searchParams.append("limit","".concat(a)),o.searchParams.append("offset","".concat(a*e)),n&&r&&(o.searchParams.append("orderby","".concat(n)),o.searchParams.append("direction","".concat(r))),null!==i&&void 0!==i&&i.fullName&&o.searchParams.append("fullName","".concat(i.fullName)),null!==i&&void 0!==i&&i.truckNumber&&o.searchParams.append("truckNumber","".concat(i.truckNumber)),c(o).then((function(e){return e.json()}))},m=function(e,a,n,r,i){var o=new URL("/user",t);return o.searchParams.append("limit","".concat(a)),o.searchParams.append("offset","".concat(a*e)),n&&r&&(o.searchParams.append("orderby","".concat(n)),o.searchParams.append("direction","".concat(r))),null!==i&&void 0!==i&&i.fullName&&o.searchParams.append("fullName","".concat(i.fullName)),c(o).then((function(e){return e.json()}))}},1168:function(e,a,n){n.r(a),n.d(a,{default:function(){return H}});var r=n(1413),t=n(9439),c=n(2791),i=n(8404),o=n(6934),d=n(2065),s=n(7391),l=n(68),u=n(3994),m=n(4554),p=n(9836),h=n(3382),f=n(9281),b=n(6890),v=n(6812),x=n(5855),k=n(720),P=n(4663),g=n(890),j=n(5527),N=n(6151),Z=n(3400),w=n(7247),y=n(1903),C=n(1528),S=n(5573),F=n(4765),L=n(344),D=n(184),R=[{id:"loadNumber",orderField:"loadNumber",getData:function(e){return{data:"".concat(e.loadNumber)}},numeric:!0,disablePadding:!1,label:"Load\xa0Number"},{id:"pickLocation",getData:function(e){if(null!==e&&void 0!==e&&e.pick){var a="./locations/".concat(e.pick.id),n="".concat(e.pick.name,", ").concat(e.pick.stateCode,", ").concat(e.pick.zipCode,","),r="".concat(e.pickDate?new Date(e.pickDate).toLocaleString():"");return{data:(0,D.jsxs)("span",{children:[(0,D.jsx)("a",{href:a,target:"_blank",onClick:U,children:n}),(0,D.jsx)("br",{}),r]}),title:n+"\n"+r}}return{data:""}},numeric:!1,disablePadding:!0,label:"First\xa0pick\xa0up\xa0EDT"},{id:"deliverLocation",getData:function(e){if(null!==e&&void 0!==e&&e.deliver){var a="./locations/".concat(e.deliver.id),n="".concat(e.deliver.name,", ").concat(e.deliver.stateCode,", ").concat(e.deliver.zipCode,","),r="".concat(e.deliverDate?new Date(e.deliverDate).toLocaleString():"");return{data:(0,D.jsxs)("span",{children:[(0,D.jsx)("a",{href:a,target:"_blank",onClick:U,children:n}),(0,D.jsx)("br",{}),r]}),title:n+"\n"+r}}return{data:""}},numeric:!1,disablePadding:!0,label:"Last\xa0delivery\xa0EDT"},{id:"miles",getData:function(e){if(null!==e&&void 0!==e&&e.milesHaversine){var a="".concat(e.milesByRoads?e.milesByRoads.toFixed(2):""),n="".concat(e.milesHaversine.toFixed(2));return{data:(0,D.jsxs)("span",{children:[(0,D.jsx)("b",{children:a}),(0,D.jsx)("br",{}),n]}),title:a+" - By roads\n"+n+" - Distance"}}return{data:""}},numeric:!0,disablePadding:!1,label:"Miles"},{id:"truckType",getData:function(e){var a="".concat(e.truckType.join(", "));return{data:(0,D.jsx)("span",{children:a}),title:a}},numeric:!1,disablePadding:!0,label:"Required\xa0truck\xa0info"},{id:"truck",getData:function(e){if(null!==e&&void 0!==e&&e.truck){var a="./trucks/".concat(e.truck.id),n="".concat(e.truck.truckNumber);return{data:(0,D.jsx)("span",{children:(0,D.jsx)("a",{href:a,target:"_blank",onClick:U,children:n})}),title:n}}return{data:""}},numeric:!0,disablePadding:!1,label:"Truck"}],T=(0,o.ZP)(b.Z)((function(e){return{backgroundColor:e.theme.palette.background.default}})),B=(0,o.ZP)(u.Z)((function(e){e.theme;return{maxWidth:"100px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}));function U(e){e.stopPropagation()}function z(e){e.onSelectAllClick;var a=e.order,n=e.orderBy,r=(e.numSelected,e.rowCount,e.onRequestSort);return(0,D.jsx)(T,{children:(0,D.jsxs)(x.Z,{children:[(0,D.jsx)(B,{align:"center",padding:"checkbox",children:"Actions"}),R.map((function(e){return(0,D.jsx)(B,{align:e.numeric?"right":"center",padding:e.disablePadding?"none":"normal",sortDirection:n===e.id&&a,children:(0,D.jsxs)(k.Z,{active:e.orderField&&n===e.orderField,hideSortIcon:!e.orderField,direction:n===e.orderField?a:"asc",onClick:e.orderField?(t=e.orderField,function(e){r(e,t)}):function(){},children:[e.label,e.orderField&&n===e.orderField?(0,D.jsx)(m.Z,{component:"span",sx:S.Z,children:"desc"===a?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))]})})}function q(e){var a=e.numSelected,n=e.setQueryParams,i=c.useState(0),o=(0,t.Z)(i,2),u=o[0],p=o[1],h=c.useState(0),f=(0,t.Z)(h,2),b=f[0],v=f[1],x=c.useState(!1),k=(0,t.Z)(x,2),j=k[0],N=k[1];return(0,D.jsxs)(P.Z,{sx:(0,r.Z)({pl:{sm:2},pr:{xs:1,sm:1}},a>0&&{bgcolor:function(e){return(0,d.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[a>0?(0,D.jsxs)(g.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}):(0,D.jsx)(g.Z,{sx:{flex:"1 1 100%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},variant:"h6",id:"tableTitle",component:"div",children:"Loads"}),(0,D.jsx)(m.Z,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"140px"}},children:(0,D.jsx)(s.Z,{label:"Load Number",id:"loadNumber",value:u||"",onChange:function(e){Number.isFinite(Number(e.target.value))&&(p(Number(e.target.value)),N(!0))},size:"small"})}),(0,D.jsx)(m.Z,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"140px"}},children:(0,D.jsx)(s.Z,{label:"Truck Number",id:"truckNumber",value:b||"",onChange:function(e){Number.isFinite(Number(e.target.value))&&(v(Number(e.target.value)),N(!0))},size:"small"})}),1===a?(0,D.jsx)(l.Z,{title:"Delete",children:(0,D.jsx)(Z.Z,{children:(0,D.jsx)(w.Z,{})})}):(0,D.jsx)(l.Z,{title:"Filter list",children:!j&&(u||b)||j&&!u&&j&&!b?(0,D.jsx)(Z.Z,{onClick:function(){N(!1),p(0),v(0),n({})},children:(0,D.jsx)(C.Z,{})}):(0,D.jsx)("span",{children:(0,D.jsx)(Z.Z,{disabled:!u&&!b,onClick:function(){N(!1);var e={};u&&(e.loadNumber=u),b&&(e.truckNumber=b),n(e)},children:(0,D.jsx)(y.Z,{})})})})]})}function H(){var e=c.useState("asc"),a=(0,t.Z)(e,2),n=a[0],r=a[1],o=c.useState("loadNumber"),d=(0,t.Z)(o,2),s=d[0],l=d[1],u=c.useState([]),b=(0,t.Z)(u,2),k=b[0],P=b[1],g=c.useState(0),Z=(0,t.Z)(g,2),w=Z[0],y=Z[1],C=c.useState(15),S=(0,t.Z)(C,2),T=S[0],U=S[1],H=c.useState({}),_=(0,t.Z)(H,2),A=_[0],O=_[1],W=c.useRef(null),E=(0,i.a)({queryKey:["loads",w,T,s,n,A],queryFn:function(){return(0,L.kg)(w,T,s,n,A)},keepPreviousData:!0}),I=E.isLoading,M=E.isFetching,Q=E.data,K=void 0===Q?{items:[],total:0}:Q,G=K.items,J=K.total,V=G||[];c.useEffect((function(){W.current&&W.current.scrollTo({top:0,left:0,behavior:"smooth"})}),[V]);return(0,D.jsxs)(m.Z,{sx:{width:"100%",height:"100%"},children:[(0,D.jsxs)(j.Z,{sx:{width:"100%",height:"100%",backgroundColor:"unset"},children:[(0,D.jsx)(q,{numSelected:k.length,setQueryParams:function(e){O(e),y(0)}}),(0,D.jsx)(f.Z,{ref:W,sx:{height:"calc(100% - 115px)"},children:(0,D.jsxs)(p.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",stickyHeader:!0,children:[(0,D.jsx)(z,{numSelected:k.length,order:n,orderBy:s,onSelectAllClick:function(e){if(e.target.checked){var a=V.map((function(e){return e.id}));P(a)}else P([])},onRequestSort:function(e,a){var t=s===a&&"asc"===n;s===a&&"desc"===n?(r(void 0),l(void 0)):(r(t?"desc":"asc"),l(a))},rowCount:V.length}),(0,D.jsx)(h.Z,{children:V.map((function(e,a){var n,r=(n="".concat(e.id),-1!==k.indexOf(n)),t="enhanced-table-checkbox-".concat(a);return(0,D.jsxs)(x.Z,{hover:!0,onClick:function(a){"".concat(e.id)},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,sx:{cursor:"pointer"},children:[(0,D.jsx)(B,{padding:"checkbox",children:(0,D.jsx)(N.Z,{id:"".concat(t),sx:{m:1},fullWidth:!0,variant:"contained",size:"small",color:"primary",disabled:!!e.truck,onClick:function(){},children:"Attach"})}),R.map((function(a){var n=a.getData(e);return(0,D.jsx)(B,{title:n.title,align:a.numeric?"right":"center",children:n.data},a.id)}))]},e.id)}))})]})}),(0,D.jsx)(v.Z,{rowsPerPageOptions:[5,10,15,20,25,35,50],component:"div",count:J,rowsPerPage:T,page:w,onPageChange:function(e,a){y(a)},onRowsPerPageChange:function(e){U(parseInt(e.target.value,10)),y(0)}})]}),(0,D.jsx)(F.Z,{visible:I||M})]})}}}]);
//# sourceMappingURL=168.3102b71f.chunk.js.map