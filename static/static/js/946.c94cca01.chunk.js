"use strict";(self.webpackChunkadmin_frontend=self.webpackChunkadmin_frontend||[]).push([[946],{344:function(e,a,n){n.d(a,{Wn:function(){return u},BB:function(){return d},kg:function(){return s},He:function(){return i},_H:function(){return l},g7:function(){return o},np:function(){return m}});var r=n(3619),t=new URL(window.location.href).origin,c=function(e){var a,n,t={headers:new Headers};return t.headers.set("Authorization","Basic "+btoa((null===(a=r.b.user)||void 0===a?void 0:a.username)+":"+(null===(n=r.b.user)||void 0===n?void 0:n.password))),fetch(e,t)},o=function(e,a,n,r,o){var i=new URL("/truck",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.truckNumber&&i.searchParams.append("truckNumber","".concat(o.truckNumber)),null!==o&&void 0!==o&&o.lastLocation&&null!==o&&void 0!==o&&o.distance&&(i.searchParams.append("lastLocation","".concat(o.lastLocation)),i.searchParams.append("distance","".concat(o.distance))),c(i).then((function(e){return e.json()}))},i=function(e,a,n,r,o){var i=new URL("/location",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.search&&i.searchParams.append("search","".concat(o.search)),null!==o&&void 0!==o&&o.name&&i.searchParams.append("name","".concat(o.name)),c(i).then((function(e){return e.json()}))},s=function(e,a,n,r,o){var i=new URL("/load",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.loadNumber&&i.searchParams.append("loadNumber","".concat(o.loadNumber)),null!==o&&void 0!==o&&o.truckNumber&&i.searchParams.append("truckNumber","".concat(o.truckNumber)),c(i).then((function(e){return e.json()}))},l=function(e,a,n,r,o){var i=new URL("/owner",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.fullName&&i.searchParams.append("fullName","".concat(o.fullName)),null!==o&&void 0!==o&&o.truckNumber&&i.searchParams.append("truckNumber","".concat(o.truckNumber)),c(i).then((function(e){return e.json()}))},d=function(e,a,n,r,o){var i=new URL("/driver",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.fullName&&i.searchParams.append("fullName","".concat(o.fullName)),null!==o&&void 0!==o&&o.truckNumber&&i.searchParams.append("truckNumber","".concat(o.truckNumber)),c(i).then((function(e){return e.json()}))},u=function(e,a,n,r,o){var i=new URL("/coordinator",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.fullName&&i.searchParams.append("fullName","".concat(o.fullName)),null!==o&&void 0!==o&&o.truckNumber&&i.searchParams.append("truckNumber","".concat(o.truckNumber)),c(i).then((function(e){return e.json()}))},m=function(e,a,n,r,o){var i=new URL("/user",t);return i.searchParams.append("limit","".concat(a)),i.searchParams.append("offset","".concat(a*e)),n&&r&&(i.searchParams.append("orderby","".concat(n)),i.searchParams.append("direction","".concat(r))),null!==o&&void 0!==o&&o.fullName&&i.searchParams.append("fullName","".concat(o.fullName)),c(i).then((function(e){return e.json()}))}},4946:function(e,a,n){n.r(a),n.d(a,{default:function(){return B}});var r=n(1413),t=n(9439),c=n(2791),o=n(8404),i=n(6934),s=n(2065),l=n(7391),d=n(9174),u=n(68),m=n(3994),p=n(4554),h=n(9836),f=n(3382),b=n(9281),P=n(6890),v=n(6812),x=n(5855),g=n(720),j=n(4663),k=n(890),Z=n(5527),N=n(3400),w=n(7247),y=n(1903),S=n(1528),F=n(5573),C=n(4765),R=n(344),L=n(184),U=[{id:"fullName",orderField:"fullName",getData:function(e){return{data:"".concat(e.fullName)}},numeric:!1,disablePadding:!0,label:"Full\xa0Name"},{id:"email",orderField:"email",getData:function(e){return{data:"".concat(e.email)}},numeric:!1,disablePadding:!0,label:"Email"},{id:"userRole",orderField:"userRole",getData:function(e){return{data:"".concat(e.userRole)}},numeric:!1,disablePadding:!0,label:"User\xa0Role"},{id:"jobTitle",orderField:"jobTitle",getData:function(e){return{data:"".concat(e.jobTitle)}},numeric:!1,disablePadding:!0,label:"Job\xa0Title"}],D=(0,i.ZP)(P.Z)((function(e){return{backgroundColor:e.theme.palette.background.default}})),T=(0,i.ZP)(m.Z)((function(e){e.theme;return{maxWidth:"100px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}));function O(e){var a=e.onSelectAllClick,n=e.order,r=e.orderBy,t=e.numSelected,c=e.rowCount,o=e.onRequestSort;return(0,L.jsx)(D,{children:(0,L.jsxs)(x.Z,{children:[(0,L.jsx)(T,{padding:"checkbox",children:(0,L.jsx)(d.Z,{name:"enhanced-table-checkbox-select-all",color:"primary",indeterminate:t>0&&t<c,checked:c>0&&t===c,onChange:a,inputProps:{"aria-label":"enhanced-table-checkbox-select-all"}})}),U.map((function(e){return(0,L.jsx)(T,{align:e.numeric?"right":"center",padding:e.disablePadding?"none":"normal",sortDirection:r===e.id&&n,children:(0,L.jsxs)(g.Z,{active:e.orderField&&r===e.orderField,hideSortIcon:!e.orderField,direction:r===e.orderField?n:"asc",onClick:e.orderField?(a=e.orderField,function(e){o(e,a)}):function(){},children:[e.label,e.orderField&&r===e.orderField?(0,L.jsx)(p.Z,{component:"span",sx:F.Z,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var a}))]})})}function q(e){var a=e.numSelected,n=e.setQueryParams,o=c.useState(""),i=(0,t.Z)(o,2),d=i[0],m=i[1],p=c.useState(!1),h=(0,t.Z)(p,2),f=h[0],b=h[1];return(0,L.jsxs)(j.Z,{sx:(0,r.Z)({pl:{sm:2},pr:{xs:1,sm:1}},a>0&&{bgcolor:function(e){return(0,s.Fq)(e.palette.primary.main,e.palette.action.activatedOpacity)}}),children:[a>0?(0,L.jsxs)(k.Z,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[a," selected"]}):(0,L.jsx)(k.Z,{sx:{flex:"1 1 100%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},variant:"h6",id:"tableTitle",component:"div",children:"Users"}),(0,L.jsx)(l.Z,{label:"Full Name",id:"fullName",value:d,onChange:function(e){m(e.target.value),b(!0)},size:"small"}),1===a?(0,L.jsx)(u.Z,{title:"Delete",children:(0,L.jsx)(N.Z,{children:(0,L.jsx)(w.Z,{})})}):(0,L.jsx)(u.Z,{title:"Filter list",children:!f&&d||f&&!d?(0,L.jsx)(N.Z,{onClick:function(){b(!1),m(""),n({})},children:(0,L.jsx)(S.Z,{})}):(0,L.jsx)("span",{children:(0,L.jsx)(N.Z,{disabled:!d,onClick:function(){b(!1),n({fullName:d})},children:(0,L.jsx)(y.Z,{})})})})]})}function B(){var e=c.useState("asc"),a=(0,t.Z)(e,2),n=a[0],r=a[1],i=c.useState("fullName"),s=(0,t.Z)(i,2),l=s[0],u=s[1],m=c.useState([]),P=(0,t.Z)(m,2),g=P[0],j=P[1],k=c.useState(0),N=(0,t.Z)(k,2),w=N[0],y=N[1],S=c.useState(15),F=(0,t.Z)(S,2),D=F[0],B=F[1],H=c.useState({}),z=(0,t.Z)(H,2),A=z[0],I=z[1],W=c.useRef(null),_=(0,o.a)({queryKey:["user",w,D,l,n,A],queryFn:function(){return(0,R.np)(w,D,l,n,A)},keepPreviousData:!0}),E=_.isLoading,Q=_.isFetching,J=_.data,K=void 0===J?{items:[],total:0}:J,G=K.items,M=K.total,V=G||[];c.useEffect((function(){W.current&&W.current.scrollTo({top:0,left:0,behavior:"smooth"})}),[V]);return(0,L.jsxs)(p.Z,{sx:{width:"100%",height:"100%"},children:[(0,L.jsxs)(Z.Z,{sx:{width:"100%",height:"100%",backgroundColor:"unset"},children:[(0,L.jsx)(q,{numSelected:g.length,setQueryParams:function(e){I(e),y(0)}}),(0,L.jsx)(b.Z,{ref:W,sx:{height:"calc(100% - 115px)"},children:(0,L.jsxs)(h.Z,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",stickyHeader:!0,children:[(0,L.jsx)(O,{numSelected:g.length,order:n,orderBy:l,onSelectAllClick:function(e){if(e.target.checked){var a=V.map((function(e){return e.id}));j(a)}else j([])},onRequestSort:function(e,a){var t=l===a&&"asc"===n;l===a&&"desc"===n?(r(void 0),u(void 0)):(r(t?"desc":"asc"),u(a))},rowCount:V.length}),(0,L.jsx)(f.Z,{children:V.map((function(e,a){var n,r=(n="".concat(e.id),-1!==g.indexOf(n)),t="enhanced-table-checkbox-".concat(a);return(0,L.jsxs)(x.Z,{hover:!0,onClick:function(a){return function(e,a){var n=g.indexOf(a),r=[];-1===n?r=r.concat(g,a):0===n?r=r.concat(g.slice(1)):n===g.length-1?r=r.concat(g.slice(0,-1)):n>0&&(r=r.concat(g.slice(0,n),g.slice(n+1))),j(r)}(0,"".concat(e.id))},role:"checkbox","aria-checked":r,tabIndex:-1,selected:r,sx:{cursor:"pointer"},children:[(0,L.jsx)(T,{padding:"checkbox",children:(0,L.jsx)(d.Z,{id:"".concat(t),color:"primary",checked:r,inputProps:{"aria-labelledby":t}})}),U.map((function(a){var n=a.getData(e);return(0,L.jsx)(T,{title:n.title,align:a.numeric?"right":"center",children:n.data},a.id)}))]},e.id)}))})]})}),(0,L.jsx)(v.Z,{rowsPerPageOptions:[5,10,15,20,25,35,50],component:"div",count:M,rowsPerPage:D,page:w,onPageChange:function(e,a){y(a)},onRowsPerPageChange:function(e){B(parseInt(e.target.value,10)),y(0)}})]}),(0,L.jsx)(C.Z,{visible:E||Q})]})}}}]);
//# sourceMappingURL=946.c94cca01.chunk.js.map