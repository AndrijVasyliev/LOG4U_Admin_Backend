"use strict";(self.webpackChunk_log4u_admin_frontend=self.webpackChunk_log4u_admin_frontend||[]).push([[86],{86:(e,i,t)=>{t.r(i),t.d(i,{default:()=>C});t(5043);var r=t(3216),a=t(9781),l=t(2836),n=t(3892),s=t(899),d=t(6446),o=t(1906),c=t(9336),u=t(2991),m=t(9404),f=t(2177),p=t(474),h=t(222),x=t(1079),b=t(6603),g=t(8833),k=t(579);const y=s.Ik({type:s.Yj().oneOf([g.P7.FCFS,g.P7.ASAP,g.P7.APPT]).required("Type is required"),at:s.p6().when(["type"],((e,i)=>e[0]===g.P7.FCFS?i.oneOf([void 0]):i.required("At is required"))),from:s.p6().when(["type"],((e,i)=>e[0]!==g.P7.FCFS?i.oneOf([void 0]):i.required("From is required"))),to:s.p6().when(["type"],((e,i)=>e[0]!==g.P7.FCFS?i.oneOf([void 0]):i.required("To is required")))}),A=s.Ik({type:s.Yj().oneOf([g.P7.FCFS,g.P7.Direct,g.P7.APPT]).required("Type is required"),at:s.p6().when(["type"],((e,i)=>e[0]===g.P7.FCFS?i.oneOf([void 0]):i.required("At is required"))),from:s.p6().when(["type"],((e,i)=>e[0]!==g.P7.FCFS?i.oneOf([void 0]):i.required("From is required"))),to:s.p6().when(["type"],((e,i)=>e[0]!==g.P7.FCFS?i.oneOf([void 0]):i.required("To is required")))}),j=s.Ik({pieces:s.ai().integer().min(1).required("Pieces must be at least 1"),unitOfWeight:s.Yj().oneOf(g.Lv).required("Unit of weight is required"),weight:s.ai().moreThan(0).required("Weight is required"),unitOfLength:s.Yj().oneOf(g.Ny).required("Unit of length is required"),length:s.ai().moreThan(0).required("Length is required")}),N=s.Ik({facility:s.Ik({id:s.Yj().required()}).typeError("Enter correct facility").required("Facility is required"),timeFrame:y.required("Time frame is required"),freightList:s.YO().of(j.required("Freight is required")).required("Stop pickup must contain al least one freight"),addInfo:s.Yj()}),I=s.Ik({facility:s.Ik({id:s.Yj().required()}).typeError("Enter correct facility").required("Facility is required"),timeFrame:A.required("Time frame is required"),addInfo:s.Yj()}),P=s.Ik({status:s.Yj().oneOf(g.Jf).required("Status is required"),ref:s.YO().of(s.Yj().required("Ref must not be empty")).max(3),stops:s.YO().of(s.RZ((e=>{switch(e.type){case g.lk.PickUp:return N.required("Stop pickup is required");case g.lk.Delivery:return I.required("Stop delivery is required");default:return s.gl().oneOf([void 0]).required('Type of stop must be "Pick Up" or "Delivery"')}}))).min(2).required("Stops are required"),weight:s.Yj().required("Weight is required"),truckType:s.YO(s.Yj().oneOf(g.Ju)).min(1,"Select at list one").required("Truck Type is required"),rate:s.ai().typeError("Rate must be a number"),totalCharges:s.ai().typeError("Total charges must be a number"),currency:s.Yj().required("Currency is required"),bookedByUser:s.Ik({id:s.Yj().required()}).typeError("Enter correct user").nullable(),bookedByCompany:s.Yj(),assignTo:s.YO(s.Ik({id:s.Yj().required()}).typeError("Enter correct user")),checkInAs:s.Yj(),truck:s.Ik({id:s.Yj().required()}).typeError("Enter correct truck").nullable(),bookedWith:s.Ik({id:s.Yj().required()}).typeError("Enter correct customer").nullable()}),F={type:g.P7.APPT,at:null},q={type:g.P7.APPT,at:null},S={status:"Available",ref:[],stops:[{type:g.lk.PickUp,timeFrame:F,facility:null,freightList:[{pieces:null,unitOfWeight:"KG",weight:null,unitOfLength:"M",length:null}],addInfo:""},{type:g.lk.Delivery,timeFrame:q,facility:null,addInfo:""}],weight:void 0,truckType:[],rate:void 0,totalCharges:void 0,currency:"USD",bookedByUser:null,bookedByCompany:void 0,assignTo:[],checkInAs:"4ULogistics",truck:null,bookedWith:null};function C(){const e=(0,r.Zp)(),i=(0,a.jE)(),t=(0,b.dh)(),{mutate:s,isLoading:y}=(0,l.n)(x.te,{onSuccess:()=>{t({severity:"success",message:"Created"}),i.invalidateQueries(["loads"]),e(-1)},onError:e=>{t({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),A=(0,n.Wx)({initialValues:S,enableReinitialize:!0,validationSchema:P,onSubmit:e=>{s(e)}});return(0,k.jsxs)(d.A,{sx:{height:"100%"},children:[(0,k.jsx)("form",{onSubmit:A.handleSubmit,onReset:A.handleReset,style:{height:"100%"},children:(0,k.jsxs)(d.A,{sx:{p:3,height:"100%"},children:[(0,k.jsx)(c.A,{}),(0,k.jsxs)(d.A,{sx:{maxHeight:"calc(100% - 70px)",overflowX:"hidden",overflowY:"scroll"},children:[(0,k.jsxs)(d.A,{sx:{marginBottom:-1,p:1},children:[(0,k.jsx)(h.zM,{fieldName:"status",label:"Status",items:g.Jf,formik:A}),(0,k.jsx)(h.A_,{fieldName:"ref",label:"REF",multiline:!0,maxRows:3,formik:A}),(0,k.jsx)(p.A,{fieldName:"stops",formik:A})]},"topControls"),(0,k.jsxs)(d.A,{sx:{display:"inline-flex",width:"100%"},children:[(0,k.jsxs)(d.A,{sx:{p:1,width:"50%"},children:[(0,k.jsx)(h.A_,{fieldName:"weight",label:"Weight",formik:A}),(0,k.jsx)(h.yJ,{fieldName:"truckType",label:"Truck Type",items:g.Ju,formik:A}),(0,k.jsx)(h.Lw,{fieldName:"bookedByUser",label:"Booked By",getSelectedLabel:e=>"".concat(e.fullName),getItemLabel:e=>"".concat(e.fullName),getItemSecondLabel:e=>"".concat(e.jobTitle),ListIcon:f.A,queryFn:x.Fw,orderby:"fullName",order:"asc",formik:A}),(0,k.jsx)(h.Lw,{fieldName:"bookedWith",label:"Booked With",getSelectedLabel:e=>"".concat(e.name),getItemLabel:e=>"".concat(e.name),getItemSecondLabel:e=>"".concat(e.type),ListIcon:m.A,queryFn:x.sg,orderby:"name",order:"asc",formik:A}),(0,k.jsx)(h.Lw,{fieldName:"truck",label:"Truck",getSelectedLabel:e=>"".concat(e.truckNumber),getItemLabel:e=>"".concat(e.truckNumber),getItemSecondLabel:e=>"".concat(e.status,", ").concat(e.licencePlate),ListIcon:u.A,queryFn:x.fG,orderby:"truckNumber",order:"asc",formik:A})]},"left"),(0,k.jsxs)(d.A,{sx:{p:1,width:"50%"},children:[(0,k.jsx)(h.A_,{fieldName:"rate",label:"Rate",number:!0,formik:A}),(0,k.jsx)(h.A_,{fieldName:"totalCharges",label:"Total Charges",number:!0,formik:A}),(0,k.jsx)(h.A_,{fieldName:"currency",label:"Currency",formik:A}),(0,k.jsx)(h.A_,{fieldName:"checkInAs",label:"Check In As",formik:A}),(0,k.jsx)(h.A_,{fieldName:"bookedByCompany",label:"Booked By Company",formik:A})]},"right")]},"centerControls"),(0,k.jsxs)(d.A,{sx:{p:1,paddingBottom:0,paddingTop:0},children:[(0,k.jsx)(h.YY,{fieldName:"assignTo",label:"Assign To",getSelectedLabel:e=>"".concat(e.fullName),getItemLabel:e=>"".concat(e.fullName),getItemSecondLabel:e=>"".concat(e.jobTitle),ListIcon:f.A,queryFn:x.Fw,orderby:"fullName",order:"asc",formik:A}),(0,k.jsx)(d.A,{sx:{paddingBottom:2,paddingTop:2}},"spacer")]},"bottomControls")]},"controls"),(0,k.jsx)(c.A,{}),(0,k.jsxs)(d.A,{sx:{paddingTop:3,display:"flex"},children:[(0,k.jsx)(d.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,k.jsx)(o.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"submit",children:"Create"})},"left"),(0,k.jsx)(d.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,k.jsx)(o.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"button",onClick:()=>{e(-1)},children:"Cancel"})},"right")]},"buttons")]})}),(0,k.jsx)(h.aH,{visible:y})]})}},474:(e,i,t)=>{t.d(i,{A:()=>I});var r=t(5043),a=t(3097),l=t.n(a),n=t(6446),s=t(3766),d=t(6605),o=t(710),c=t(3577),u=t(430),m=t(5865),f=t(7392),p=t(4951),h=t(222),x=t(8833),b=t(579);function g(e){let{fieldName:i,values:t,disabled:a,formik:s}=e;const d=l()(s.values,i);return r.useEffect((()=>{d.type===x.P7.FCFS?(d.at&&s.setFieldValue("".concat(i,".at"),void 0),!d.from&&s.setFieldValue("".concat(i,".from"),null),!d.to&&s.setFieldValue("".concat(i,".to"),null)):d.type&&(!d.at&&s.setFieldValue("".concat(i,".at"),null),d.from&&s.setFieldValue("".concat(i,".from"),void 0),d.to&&s.setFieldValue("".concat(i,".to"),void 0))}),[d.type]),(0,b.jsxs)(n.A,{sx:{display:"flex",width:"100%"},children:[(0,b.jsx)(n.A,{sx:{paddingRight:1,flex:1},children:(0,b.jsx)(h.zM,{fieldName:"".concat(i,".type"),label:"Time frame type",items:t,disabled:a,formik:s})},"typeContainer"),d.type===x.P7.FCFS?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(n.A,{sx:{paddingRight:1,paddingLeft:1,flex:1},children:(0,b.jsx)(h.Id,{fieldName:"".concat(i,".from"),label:"From",disablePast:!0,formik:s})},"fromContainer"),(0,b.jsx)(n.A,{sx:{paddingLeft:1,flex:1},children:(0,b.jsx)(h.Id,{fieldName:"".concat(i,".to"),label:"To",disablePast:!0,formik:s})},"toContainer")]}):(0,b.jsx)(n.A,{sx:{paddingLeft:1,flex:1},children:(0,b.jsx)(h.Id,{fieldName:"".concat(i,".at"),label:"At",disablePast:!0,formik:s})},"atContainer")]},"inlineControls")}var k=t(1079);function y(e){let{fieldName:i,disabled:t,formik:a}=e;const[l,c]=r.useState(!1);return(0,b.jsxs)(s.A,{expanded:l,onChange:()=>{c((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,b.jsx)(d.A,{expandIcon:(0,b.jsx)(u.A,{}),"aria-controls":"freight-content",id:"freight-header",children:(0,b.jsxs)(n.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,b.jsx)(m.A,{children:"Freight"}),(0,b.jsx)(f.A,{component:"label","aria-label":"add",sx:{padding:0},disabled:t,children:(0,b.jsx)(p.A,{})})]})}),(0,b.jsxs)(o.A,{children:[(0,b.jsx)(h.A_,{fieldName:"".concat(i,".pieces"),label:"Picies",number:!0,disabled:t,formik:a}),(0,b.jsxs)(n.A,{sx:{display:"flex",width:"100%"},children:[(0,b.jsxs)(n.A,{sx:{paddingRight:1,flex:1},children:[(0,b.jsx)(h.zM,{fieldName:"".concat(i,".unitOfWeight"),label:"Unit Of Weight",items:x.Lv,disabled:t,formik:a}),(0,b.jsx)(h.A_,{fieldName:"".concat(i,".weight"),label:"Weight",number:!0,disabled:t,formik:a})]},"left"),(0,b.jsxs)(n.A,{sx:{paddingLeft:1,flex:1},children:[(0,b.jsx)(h.zM,{fieldName:"".concat(i,".unitOfLength"),label:"Unit Of Length",items:x.Ny,disabled:t,formik:a}),(0,b.jsx)(h.A_,{fieldName:"".concat(i,".length"),label:"Length",number:!0,disabled:t,formik:a})]},"right")]},"inlineControls")]})]})}function A(e){let{fieldName:i,disabled:t,formik:r}=e;const a=l()(r.values,i);return(0,b.jsx)(n.A,{sx:{paddingBottom:3,width:"100%"},children:a.map(((e,a)=>(0,b.jsx)(y,{fieldName:"".concat(i,"[").concat(a,"]"),disabled:t,formik:r},a)))},"freightList")}function j(e){let{fieldName:i,disabled:t,formik:a}=e;const[l,y]=r.useState(!1);return(0,b.jsxs)(s.A,{expanded:l,onChange:()=>{y((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,b.jsx)(d.A,{expandIcon:(0,b.jsx)(u.A,{}),"aria-controls":"stop-pickup-content",id:"stop-pickup-header",children:(0,b.jsxs)(n.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,b.jsx)(m.A,{children:"Stop PickUp"}),(0,b.jsx)(f.A,{component:"label","aria-label":"add",sx:{padding:0},disabled:t,children:(0,b.jsx)(p.A,{})})]})}),(0,b.jsxs)(o.A,{children:[(0,b.jsx)(h.Lw,{fieldName:"".concat(i,".facility"),label:"Facility",getSelectedLabel:e=>"".concat(e.name),getItemLabel:e=>"".concat(e.name),getItemSecondLabel:e=>"".concat(e.address),ListIcon:c.A,queryFn:k.Kw,startEmpty:!1,orderby:"name",order:"asc",disabled:t,formik:a}),(0,b.jsx)(g,{fieldName:"".concat(i,".timeFrame"),values:[x.P7.FCFS,x.P7.APPT,x.P7.ASAP],disabled:t,formik:a}),(0,b.jsx)(A,{fieldName:"".concat(i,".freightList"),disabled:t,formik:a}),(0,b.jsx)(h.A_,{fieldName:"".concat(i,".addInfo"),label:"Additional stop info",disabled:t,formik:a})]})]})}function N(e){let{fieldName:i,disabled:t,formik:a}=e;const[l,y]=r.useState(!1);return(0,b.jsxs)(s.A,{expanded:l,onChange:()=>{y((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,b.jsx)(d.A,{expandIcon:(0,b.jsx)(u.A,{}),"aria-controls":"stop-delivery-content",id:"stop-delivery-header",children:(0,b.jsxs)(n.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,b.jsx)(m.A,{children:"Stop Delivery"}),(0,b.jsx)(f.A,{component:"label","aria-label":"add",sx:{padding:0},disabled:t,children:(0,b.jsx)(p.A,{})})]})}),(0,b.jsxs)(o.A,{children:[(0,b.jsx)(h.Lw,{fieldName:"".concat(i,".facility"),label:"Facility",getSelectedLabel:e=>"".concat(e.name),getItemLabel:e=>"".concat(e.name),getItemSecondLabel:e=>"".concat(e.address),ListIcon:c.A,queryFn:k.Kw,startEmpty:!1,orderby:"name",order:"asc",disabled:t,formik:a}),(0,b.jsx)(g,{fieldName:"".concat(i,".timeFrame"),values:[x.P7.FCFS,x.P7.APPT,x.P7.Direct],disabled:t,formik:a}),(0,b.jsx)(h.A_,{fieldName:"".concat(i,".addInfo"),label:"Additional stop info",disabled:t,formik:a})]})]})}function I(e){let{fieldName:i,disabled:t,formik:r}=e;const a=l()(r.values,i);return(0,b.jsx)(n.A,{sx:{paddingBottom:3,width:"100%"},children:a?a.map(((e,a)=>{switch(e.type){case x.lk.PickUp:return(0,b.jsx)(j,{fieldName:"".concat(i,"[").concat(a,"]"),disabled:t,formik:r},a);case x.lk.Delivery:return(0,b.jsx)(N,{fieldName:"".concat(i,"[").concat(a,"]"),disabled:t,formik:r},a)}})):null},"stops")}},8833:(e,i,t)=>{t.d(i,{IY:()=>s,Jf:()=>u,Ju:()=>n,Lv:()=>m,Ny:()=>f,P7:()=>h,Sr:()=>l,fo:()=>a,lk:()=>p,mW:()=>o,p5:()=>d,pI:()=>c,z5:()=>r});const r=["EN","UA","ES","RU"],a=["Admin","Super Admin"],l=["BROKER DOMESTIC","BROKER INTERNATIONAL","FREIGHT FORWARDER DOMESTIC","FREIGHT FORWARDER INTERNATIONAL","SHIPPER/CONSIGNEE DOMESTIC","SHIPPER/CONSIGNEE INTERNATIONAL","OTHER"],n=["Cargo van","Reefer van","Box truck","Box truck Reefer","Straight truck","Hotshot","Tented box"],s=["Available","Not Available","Will be available","On route"],d=["Yes","No"],o=["Hazmat","Tsa","TWIC","Tanker Endorsement"],c=["Dock height risers","Air ride","Lift gate","Keep from freezing","ICC bar","Vertical E-track","Horizontal E-track","Pallet jack","PPE","Ramps","Straps","Loads bars","Blankets","Pads","Fire extinguisher","Metal hooks","Reefer","Heater"],u=["Available","Planned","In Progress","TONU","Cancelled","Completed"],m=["LBS","KG","TON"],f=["FT","IN","M","CM"];let p=function(e){return e.PickUp="PickUp",e.Delivery="Delivery",e}({}),h=function(e){return e.FCFS="FCFS",e.APPT="APPT",e.ASAP="ASAP",e.Direct="Direct",e}({})},2177:(e,i,t)=>{var r=t(4994);i.A=void 0;var a=r(t(39)),l=t(579);i.A=(0,a.default)((0,l.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")}}]);
//# sourceMappingURL=86.6c76bca9.chunk.js.map