"use strict";(self.webpackChunk_log4u_admin_frontend=self.webpackChunk_log4u_admin_frontend||[]).push([[4041],{7521:(e,t,i)=>{i.d(t,{h:()=>n});var a=i(5043);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},r.apply(null,arguments)}const l=(e,t)=>{let{title:i,titleId:l,...n}=e;return a.createElement("svg",r({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",ref:t,"aria-labelledby":l},n),i?a.createElement("title",{id:l},i):null,a.createElement("circle",{cx:64,cy:75,r:45,fill:"none",strokeWidth:10,style:{stroke:"currentcolor"}}),a.createElement("path",{d:"M 96.94 40.17 C 96.94 23.36 82.19 9.73 64 9.73 C 45.81 9.73 31.06 23.36 31.06 40.17",style:{paintOrder:"fill",strokeWidth:6,stroke:"currentcolor",fill:"rgba(255, 255, 255, 0)"}}),a.createElement("polyline",{points:"39.98 19.5 37.64 5.17 50.61 14.17",style:{stroke:"currentcolor",strokeWidth:4,fill:"rgba(0, 0, 0, 0)"}}),a.createElement("polyline",{points:"87.05 19.5 89.39 5.17 76.42 14.17",style:{stroke:"currentcolor",strokeWidth:4,fill:"rgba(0, 0, 0, 0)"}}),a.createElement("path",{d:"M 29.27 108.3 C 28.05 113.07 26.83 117.84 25.62 122.61",style:{stroke:"currentcolor",paintOrder:"stroke",strokeLinecap:"round",strokeWidth:4}}),a.createElement("path",{d:"M 25.72 122.61 C 38.31 122.83 50.91 123.05 63.5 123.28",style:{stroke:"currentcolor",strokeWidth:4,strokeLinecap:"round"}}),a.createElement("path",{d:"M 98.96 108.3 C 100.18 113.07 101.4 117.84 102.61 122.61",style:{strokeLinecap:"round",strokeWidth:4,stroke:"currentcolor",paintOrder:"stroke"}}),a.createElement("path",{d:"M 102.5 122.61 C 88.91 122.85 76.32 123.07 64.72 123.28",style:{strokeLinecap:"round",stroke:"currentcolor",strokeWidth:4}}),a.createElement("polyline",{points:"63 39.5 63 79.5 79.91 93.83",style:{stroke:"currentcolor",strokeWidth:6,paintOrder:"fill",strokeLinecap:"round",fill:"rgba(255, 255, 255, 0)"}}))},n=(0,a.forwardRef)(l);i.p},6252:(e,t,i)=>{i.d(t,{h:()=>n});var a=i(5043);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var a in i)({}).hasOwnProperty.call(i,a)&&(e[a]=i[a])}return e},r.apply(null,arguments)}const l=(e,t)=>{let{title:i,titleId:l,...n}=e;return a.createElement("svg",r({focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"LocalShippingIcon",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":l},n),i?a.createElement("title",{id:l},i):null,a.createElement("path",{d:"m20 8h-3v-4h-14c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zm-14 10.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5h-4.46v-2.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm-14.7-9 1.53 0 0 1.66-3.03 0 1.51-1.66zm2.46-2.74 1.66-1.84 0 4.57.94 0 0 1.66-.94 0 0 1.93-1.66 0 0-6.33zm6.58 6.48c-.37-.06-.72-.19-1.04-.37-.32-.19-.61-.42-.86-.7-.28-.32-.49-.67-.61-1.05-.12-.39-.18-.87-.18-1.44l0-4.51 1.66 0 0 4.36c0 .31.01.57.05.78.03.21.08.39.16.55.08.15.19.28.32.38.14.1.31.19.52.27l0 1.74zm.91-1.74c.21-.07.37-.16.51-.26.14-.1.25-.23.33-.39.08-.14.14-.31.17-.5.03-.2.05-.47.05-.83l0-4.36 1.65 0 0 4.51c0 .58-.06 1.06-.18 1.44-.12.38-.33.73-.61 1.05-.25.29-.54.52-.87.7-.33.18-.68.3-1.04.37l0-1.74z",style:{fillRule:"evenodd",fill:"currentcolor"}}))},n=(0,a.forwardRef)(l);i.p},8807:(e,t,i)=>{i.d(t,{A:()=>x});var a=i(5043),r=i(5563),l=i(950),n=i(4944),s=i(9129),o=i(7392),d=i(7166),c=i(6910),u=i(4133),h=i(5552),p=i(579);function x(e){let{location:t,onRefClick:i,addInfo:x,children:m}=e;const[b,g]=a.useState(null),[f,j]=a.useState([]),[v,A]=a.useState(null),y=a.useMemo((()=>(0,l.A)((e=>{((null===v||void 0===v?void 0:v.geocode(e))||Promise.reject()).then((t=>{if(t.results.length<1&&e.location){const t=new google.maps.LatLng(e.location),i={address_components:[],formatted_address:`[${t.lat()}, ${t.lng()}]`,geometry:{location:t,location_type:google.maps.GeocoderLocationType.APPROXIMATE,viewport:new google.maps.LatLngBounds},place_id:`[${t.lat()}, ${t.lng()}]`,types:[]};j([i])}else t.results.forEach((e=>e.formatted_address=(0,s.s)(e.address_components))),j(t.results)})).catch((()=>{j([])}))}),400)),[v]);a.useEffect((()=>{const e=t&&(0,u.U)(f);t&&e&&(null===e||void 0===e?void 0:e.place_id)!==(null===b||void 0===b?void 0:b.place_id)&&g(e)}),[t,f]),a.useEffect((()=>{t?y({location:{lat:t[0],lng:t[1]}}):(j([]),g(null))}),[v,t.join(",")]);return(0,p.jsxs)("span",{style:{display:"flex"},children:[(0,p.jsx)(r.Wrapper,{...(0,h.iz)(),render:e=>{const t=(0,n.dh)(),[,i]=(0,n.pn)();return a.useLayoutEffect((()=>(e===r.Status.LOADING&&i(!0),e===r.Status.FAILURE&&t({severity:"error",message:"Error loading maps!"}),e===r.Status.SUCCESS&&A(new window.google.maps.Geocoder),()=>{e===r.Status.LOADING&&i(!1)})),[e]),null}}),(0,p.jsxs)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",textAlign:"left"},title:`${b?b.formatted_address:""}\n`+x,children:[i?(0,p.jsx)("a",{href:"#",target:"_blank",onClick:i,children:b?b.formatted_address:""}):b?b.formatted_address:"",x?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("br",{}),x]}):null,m]}),b?(0,p.jsx)(o.A,{size:"small",onClick:e=>{(0,d.d)(e),navigator.clipboard.writeText(b.formatted_address)},children:(0,p.jsx)(c.A,{sx:{height:"16px",width:"16px"}})}):null]})}},4041:(e,t,i)=>{i.r(t),i.d(t,{default:()=>fe});var a=i(5043),r=i(3216),l=i(9781),n=i(2836),s=i(5604),o=i(6240),d=i(4535),c=i(1546),u=i(7784),h=i(1962),p=i(7739),x=i(39),m=i(7353),b=i(1806),g=i(3460),f=i(9650),j=i(4882),v=i(9090),A=i(8076),y=i(8093),k=i(5263),w=i(4496),L=i(1596),S=i(7392),C=i(1045),E=i(141),P=i(3560),$=i(3768),D=i(1809),I=i(9397),z=i(6910),W=i(9662),q=i(579);const O=(0,W.A)([(0,q.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2M12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8"},"0"),(0,q.jsx)("path",{d:"M12.5 7H11v6l5.25 3.15.75-1.23-4.5-2.67z"},"1")],"AccessTime"),T=(0,W.A)([(0,q.jsx)("path",{d:"M13.95 13H9V8.05l5.61-5.61C13.78 2.16 12.9 2 12 2c-4.2 0-8 3.22-8 8.2 0 3.32 2.67 7.25 8 11.8 5.33-4.55 8-8.48 8-11.8 0-1.01-.16-1.94-.45-2.8z"},"0"),(0,q.jsx)("path",{d:"M11 11h2.12l6.16-6.16-2.12-2.12L11 8.88zm9.71-9L20 1.29c-.2-.19-.45-.29-.71-.29-.13 0-.48.07-.71.29l-.72.72 2.12 2.12.72-.72c.4-.39.4-1.02.01-1.41"},"1")],"EditLocationAlt");var M=i(524),N=i(147),_=i(4681),R=i(3892),F=i(899),H=i(1081),V=i(5316),B=i(6600),U=i(1906),G=i(3189),Q=i(1079),J=i(4944),K=i(4836);const X=F.Ik({availabilityLocation:F.PV([F.ai().typeError("Latitude is required").min(-90,"Latitude must be grater than or equal: -90").max(90,"Latitude must be less than or equal: 90").required('Location should be in format "latitude, longitude"'),F.ai().typeError("Longitude is required").min(-180,"Longitude must be grater than or equal: -180").max(180,"Longitude must be less than or equal: 180").required('Location should be in format "latitude, longitude"')]).required("Will be available location is required"),availabilityAtLocal:F.p6().typeError("Enter correct date").required("Will be available date is required")}),Y={id:"",status:"Will be available",availabilityLocation:null,availabilityAtLocal:void 0},Z=a.forwardRef((function(e,t){return(0,q.jsx)(K.A,{direction:"up",ref:t,...e})}));function ee(e){let{truckId:t,setTruckId:i}=e;const a=(0,l.jE)(),r=(0,J.dh)(),{mutate:s,isLoading:o}=(0,n.n)(Q.lO,{onSuccess:()=>{r({severity:"success",message:"Will be available set"}),i(""),a.invalidateQueries(["trucks"])},onError:e=>{r({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),d=(0,R.Wx)({initialValues:{...Y,id:t},enableReinitialize:!0,validationSchema:X,onSubmit:e=>{s(e)}});return(0,q.jsxs)(H.A,{open:!!t,TransitionComponent:Z,keepMounted:!0,onClose:()=>{i("")},"aria-describedby":"alert-dialog-set-will-be-available",PaperProps:{sx:{width:"600px"}},children:[(0,q.jsx)(B.A,{children:(0,q.jsx)("span",{children:'Set "Will ba available"'})}),(0,q.jsxs)(V.A,{children:[(0,q.jsx)("form",{onSubmit:d.handleSubmit,onReset:d.handleReset,children:(0,q.jsxs)(m.A,{sx:{display:"grid"},children:[(0,q.jsxs)(m.A,{sx:{display:"inline-flex"},children:[(0,q.jsx)(m.A,{sx:{p:1,width:"50%"},children:(0,q.jsx)(G.Mc,{fieldName:"availabilityLocation",label:"Will be available at location",formik:d})},"left"),(0,q.jsx)(m.A,{sx:{p:1,width:"50%"},children:(0,q.jsx)(G.Id,{fieldName:"availabilityAtLocal",label:"Will be available at date",minDateTime:new Date(Date.now()-864e5),formik:d})},"right")]},"controls"),(0,q.jsxs)(m.A,{sx:{display:"inline-flex"},children:[(0,q.jsx)(m.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,q.jsx)(U.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"submit",children:"Set"})},"left"),(0,q.jsx)(m.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,q.jsx)(U.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"button",onClick:()=>{i("")},children:"Cancel"})},"right")]},"buttons")]})}),(0,q.jsx)(G.aH,{visible:o})]})]})}const te=F.Ik({lastLocation:F.PV([F.ai().typeError("Latitude is required").min(-90,"Latitude must be grater than or equal: -90").max(90,"Latitude must be less than or equal: 90").required('Location should be in format "latitude, longitude"'),F.ai().typeError("Longitude is required").min(-180,"Longitude must be grater than or equal: -180").max(180,"Longitude must be less than or equal: 180").required('Location should be in format "latitude, longitude"')]).required("Will be available location is required")}),ie={id:"",lastLocation:null},ae=a.forwardRef((function(e,t){return(0,q.jsx)(K.A,{direction:"up",ref:t,...e})}));function re(e){let{truckId:t,setTruckId:i}=e;const a=(0,l.jE)(),r=(0,J.dh)(),{mutate:s,isLoading:o}=(0,n.n)(Q.lO,{onSuccess:()=>{r({severity:"success",message:"Last Location set"}),i(""),a.invalidateQueries(["trucks"])},onError:e=>{r({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),d=(0,R.Wx)({initialValues:{...ie,id:t},enableReinitialize:!0,validationSchema:te,onSubmit:e=>{s(e)}});return(0,q.jsxs)(H.A,{open:!!t,TransitionComponent:ae,keepMounted:!0,onClose:()=>{i("")},"aria-describedby":"alert-dialog-set-will-be-available",PaperProps:{sx:{width:"600px"}},children:[(0,q.jsx)(B.A,{children:(0,q.jsx)("span",{children:"Set Last Location"})}),(0,q.jsxs)(V.A,{children:[(0,q.jsx)("form",{onSubmit:d.handleSubmit,onReset:d.handleReset,children:(0,q.jsxs)(m.A,{sx:{display:"grid"},children:[(0,q.jsx)(m.A,{sx:{display:"inline-flex"},children:(0,q.jsx)(m.A,{sx:{p:1,width:"100%"},children:(0,q.jsx)(G.Mc,{fieldName:"lastLocation",label:"Will be available at location",formik:d})},"left")},"controls"),(0,q.jsxs)(m.A,{sx:{display:"inline-flex"},children:[(0,q.jsx)(m.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,q.jsx)(U.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"submit",children:"Set"})},"left"),(0,q.jsx)(m.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,q.jsx)(U.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"button",onClick:()=>{i("")},children:"Cancel"})},"right")]},"buttons")]})}),(0,q.jsx)(G.aH,{visible:o})]})]})}var le=i(7521),ne=i(6252),se=i(8612),oe=i(8807),de=i(6431),ce=i(7166),ue=i(9904),he=i(7302);const pe=[{id:"truckNumber",orderField:"truckNumber",getData:e=>({data:`${e.truckNumber}`}),numeric:!0,disablePadding:!1,label:"Truck\xa0Number"},{id:"mainContactInfo",getData:e=>{const t=e.coordinator||e.owner;let i="",a="",r="",l="";return t&&(i=`./${(0,de.Yn)(t)}/view/${t.id}`,a=`${(0,de.Pw)(t)} `,r=`${t.fullName}`,l=`${null===t||void 0===t?void 0:t.phone}`),{data:(0,q.jsxs)("span",{style:{display:"flex"},children:[(0,q.jsxs)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",textAlign:"left"},children:[(0,q.jsx)("b",{children:a}),(0,q.jsx)("a",{href:i,target:"_blank",onClick:ce.d,children:r}),(0,q.jsx)("br",{}),(0,q.jsx)("a",{href:l?`tel:${l}`:void 0,target:"_blank",onClick:ce.d,children:l||"\xa0"})]}),(0,q.jsx)(S.A,{size:"small",onClick:e=>{(0,ce.d)(e),navigator.clipboard.writeText(r+" "+l)},children:(0,q.jsx)(z.A,{sx:{height:"16px",width:"16px"}})})]}),title:a+""+r+"\n"+l}},numeric:!1,disablePadding:!0,label:"Main\xa0Contact\xa0info"},{id:"status",orderField:"status",getData:e=>{const t=(0,o.A)(),i=`${e.status}`,a=(()=>{switch(i){case"Will be available":return(0,q.jsx)(le.h,{style:{height:"24px",width:"24px",color:t.palette.cat.main}});case"On route":return(0,q.jsx)(ne.h,{style:{height:"24px",width:"24px",color:t.palette.truck.main}});case"Available":return(0,q.jsx)(C.A,{sx:{height:"24px",width:"24px",bgcolor:N.A[500],margin:"auto"},children:"A"});case"Not Available":return(0,q.jsx)(C.A,{sx:{height:"24px",width:"24px",bgcolor:_.A[500],margin:"auto"},children:"N"});default:return i}})();return{data:(0,q.jsx)("span",{children:a}),title:i}},numeric:!1,disablePadding:!0,label:"Status"},{id:"location",getData:(e,t)=>{const i=i=>{i.preventDefault(),(0,ce.d)(i),t([e])};if(null!==e&&void 0!==e&&e.lastLocation){const t=`${e.locationUpdatedAt?ue.k.format(new Date(e.locationUpdatedAt)):""}${e.locationUpdatedBy?" Set by "+e.locationUpdatedBy:""}`;return{data:(0,q.jsx)(oe.A,{location:e.lastLocation,onRefClick:i,addInfo:t})}}return{data:""}},numeric:!1,disablePadding:!0,label:"Last\xa0known\xa0location"},{id:"willBeAtLocation",getData:e=>{if(null!==e&&void 0!==e&&e.availabilityLocation){const t=`${e.availabilityAtLocal?ue.k.format((0,he.bb)(e.availabilityAtLocal)):""}`;return{data:(0,q.jsx)(oe.A,{location:e.availabilityLocation,addInfo:t})}}return{data:""}},numeric:!1,disablePadding:!0,label:"Will\xa0be\xa0at\xa0location"},{id:"truckInfo",getData:e=>{const t=e.type?`${e.type}`:"",i=e.equipment?`${e.equipment.join(", ")}`:"";return{data:(0,q.jsxs)("span",{children:[t,(0,q.jsx)("br",{}),i]}),title:t+"\n"+i}},numeric:!1,disablePadding:!0,label:"Truck\xa0info"},{id:"dimsAndPayload",getData:e=>{const t=e.insideDims?`${e.insideDims}`:"",i=e.doorDims?`${e.doorDims}`:"",a=e.payload?`${e.payload}`:"";return{data:(0,q.jsxs)("span",{children:[(t?t+" ":"")+(i?"("+i+")":""),(0,q.jsx)("br",{}),a]}),title:(t?t+" Inside ":"")+(i?i+" Door ":"")+"\n"+a+" Payload"}},numeric:!1,disablePadding:!0,label:"DIMS/Payload"},{id:"driverInfo",getData:e=>{const t=e.driver;let i="",a="",r="",l="";return t&&(i=`./${(0,de.Yn)(t)}/view/${t.id}`,a=`${(0,de.Pw)(t)} `,r=`${t.fullName}`,l=`${t.phone}`),{data:(0,q.jsxs)("span",{children:[(0,q.jsx)("b",{children:a}),(0,q.jsx)("a",{href:r?i:void 0,target:"_blank",onClick:ce.d,children:r}),(0,q.jsx)("br",{}),(0,q.jsx)("a",{href:l?`tel:${l}`:void 0,target:"_blank",onClick:ce.d,children:l||"\xa0"})]}),title:a+""+r+"\n"+l}},numeric:!1,disablePadding:!0,label:"Driver\xa0info"}],xe=(0,d.Ay)(j.A)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.background.default}})),me=(0,d.Ay)(x.A)((()=>({maxWidth:"100px",paddingTop:"6px",paddingBottom:"6px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})));function be(e){const{onSelectAllClick:t,order:i,orderBy:a,numSelected:r,rowCount:l,onRequestSort:n}=e;return(0,q.jsx)(xe,{children:(0,q.jsxs)(A.A,{children:[(0,q.jsx)(me,{padding:"checkbox",children:(0,q.jsx)(h.A,{name:"enhanced-table-checkbox-select-all",color:"primary",indeterminate:r>0&&r<l,checked:l>0&&r===l,onChange:t,inputProps:{"aria-label":"enhanced-table-checkbox-select-all"}})}),pe.map((e=>{return(0,q.jsx)(me,{align:e.numeric?"right":"center",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id&&i,children:(0,q.jsxs)(y.A,{active:e.orderField&&a===e.orderField,hideSortIcon:!e.orderField,direction:a===e.orderField?i:"asc",onClick:e.orderField?(t=e.orderField,e=>{n(e,t)}):()=>{},children:[e.label,e.orderField&&a===e.orderField?(0,q.jsx)(m.A,{component:"span",sx:M.A,children:"desc"===i?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))]})})}function ge(e){const{selected:t,setQueryParams:i}=e,[s,o]=a.useState(""),[d,h]=a.useState(""),[x,b]=a.useState(0),[g,f]=a.useState(!1),j=(0,r.zy)(),v=(0,r.Zp)(),A=(0,l.jE)(),y=(0,J.dh)(),{mutate:L,isLoading:C}=(0,n.n)(Q.pF,{onSuccess:()=>{y({severity:"success",message:"Deleted"}),A.invalidateQueries(["trucks"])},onError:e=>{y({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),z=()=>{f(!1),b(0),i({})},W=()=>{f(!1),i({truckNumber:x})};return(0,q.jsxs)(k.A,{sx:{overflow:"hidden",pl:{sm:2},pr:{xs:1,sm:1},...t.length>0&&{bgcolor:e=>(0,c.X4)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[t.length>0?(0,q.jsxs)(w.A,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[t.length," selected"]}):(0,q.jsx)(w.A,{sx:{flex:"1 1 100%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},variant:"h6",id:"tableTitle",component:"div",children:"Trucks"}),(0,q.jsx)(u.A,{label:"Truck Number",value:x||"",onChange:e=>{Number.isFinite(Number(e.target.value))&&(b(Number(e.target.value)),f(!0))},onKeyUp:e=>{"Enter"===e.key&&(x?W():z())},size:"small"}),(0,q.jsx)(p.A,{title:"Filter list",children:!g&&x||g&&!x?(0,q.jsx)("span",{children:(0,q.jsx)(S.A,{onClick:z,children:(0,q.jsx)(I.A,{})})}):(0,q.jsx)("span",{children:(0,q.jsx)(S.A,{disabled:!x,onClick:W,children:(0,q.jsx)(D.A,{})})})}),(0,q.jsxs)(m.A,{sx:{p:1,display:"inline-flex"},children:[1===t.length?(0,q.jsxs)(q.Fragment,{children:[(0,q.jsx)(p.A,{title:"Set Will be available",children:(0,q.jsx)("span",{children:(0,q.jsx)(S.A,{onClick:()=>{o(t[0])},children:(0,q.jsx)(O,{})})})}),(0,q.jsx)(ee,{truckId:s,setTruckId:o}),(0,q.jsx)(p.A,{title:"Set Last Location",children:(0,q.jsx)("span",{children:(0,q.jsx)(S.A,{onClick:()=>{h(t[0])},children:(0,q.jsx)(T,{})})})}),(0,q.jsx)(re,{truckId:d,setTruckId:h})]}):(0,q.jsx)(p.A,{title:"Create",children:(0,q.jsx)("span",{children:(0,q.jsx)(S.A,{onClick:()=>{v("./create",{relative:"path",state:{from:j},replace:!1})},children:(0,q.jsx)(E.A,{})})})}),(0,q.jsx)(p.A,{title:"Edit",children:(0,q.jsx)("span",{children:(0,q.jsx)(S.A,{disabled:1!==t.length,onClick:()=>{v(`./edit/${t[0]}`,{relative:"path",state:{from:j},replace:!1})},children:(0,q.jsx)(P.A,{})})})}),(0,q.jsx)(p.A,{title:"Delete",children:(0,q.jsx)("span",{children:(0,q.jsx)(S.A,{disabled:1!==t.length,onClick:()=>{L(`${t[0]}`)},children:(0,q.jsx)($.A,{})})})})]}),(0,q.jsx)(se.A,{visible:C})]})}function fe(){const[e,t]=a.useState("asc"),[i,l]=a.useState("truckNumber"),[n,o]=a.useState([]),[d,c]=a.useState(0),[u,p]=a.useState(15),[x,j]=a.useState({}),y=a.useRef(null),k=(0,r.zy)(),w=(0,r.Zp)(),S=(0,J.dh)(),[,C]=(0,J.ko)(),{isLoading:E,isFetching:P,error:$,data:{items:D,total:I}={items:[],total:0}}=(0,s.I)({queryKey:["trucks",d,u,i,e,x],queryFn:Q.fG,keepPreviousData:!0,retry:!1});a.useEffect((()=>{$&&S({severity:"error",message:$ instanceof Error?$.message:JSON.stringify($)})}),[$]);const z=D||[];a.useEffect((()=>{if(y.current){y.current.scrollTo({top:0,left:0,behavior:"smooth"})}}),[z]),a.useEffect((()=>{const e=[];n.forEach((t=>{z.find((e=>e.id===t))&&e.push(t)})),o(e)}),[z]);return(0,q.jsxs)(m.A,{sx:{width:"100%",height:"100%"},children:[(0,q.jsxs)(L.A,{sx:{width:"100%",height:"100%",backgroundColor:"unset"},children:[(0,q.jsx)(ge,{selected:n,setQueryParams:e=>{j(e),c(0)}}),(0,q.jsx)(f.A,{ref:y,sx:{height:"calc(100% - 115px)"},children:(0,q.jsxs)(b.A,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",stickyHeader:!0,children:[(0,q.jsx)(be,{numSelected:n.length,order:e,orderBy:i,onSelectAllClick:e=>{if(e.target.checked){const e=z.map((e=>e.id));o(e)}else o([])},onRequestSort:(a,r)=>{const n=i===r&&"asc"===e;i===r&&"desc"===e?(t(void 0),l(void 0)):(t(n?"desc":"asc"),l(r))},rowCount:z.length}),(0,q.jsx)(g.A,{children:z.map(((e,t)=>{const i=(a=`${e.id}`,-1!==n.indexOf(a));var a;const r=`enhanced-table-checkbox-${t}`;return(0,q.jsxs)(A.A,{hover:!0,onDoubleClick:t=>{w(`./view/${e.id}`,{relative:"path",state:{from:k},replace:!1})},role:"checkbox","aria-checked":i,tabIndex:-1,selected:i,sx:{cursor:"pointer"},children:[(0,q.jsx)(me,{padding:"checkbox",children:(0,q.jsx)(h.A,{id:`${r}`,color:"primary",checked:i,inputProps:{"aria-labelledby":r},onClick:t=>((e,t)=>{e.stopPropagation();const i=n.indexOf(t);let a=[];-1===i?a=a.concat(n,t):0===i?a=a.concat(n.slice(1)):i===n.length-1?a=a.concat(n.slice(0,-1)):i>0&&(a=a.concat(n.slice(0,i),n.slice(i+1))),o(a)})(t,`${e.id}`)})}),pe.map((t=>{const i=t.getData(e,C);return(0,q.jsx)(me,{title:i.title,align:t.numeric?"right":"center",children:i.data},t.id)}))]},e.id)}))})]})}),(0,q.jsx)(v.A,{rowsPerPageOptions:[5,10,15,20,25,35,50],component:"div",count:I,rowsPerPage:u,page:d,onPageChange:(e,t)=>{c(t)},onRowsPerPageChange:e=>{p(parseInt(e.target.value,10)),c(0)}})]}),(0,q.jsx)(se.A,{visible:E||P})]})}},9904:(e,t,i)=>{i.d(t,{k:()=>a});const a=Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})},6910:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(9662),r=i(579);const l=(0,a.A)((0,r.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},3768:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(9662),r=i(579);const l=(0,a.A)((0,r.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},3560:(e,t,i)=>{i.d(t,{A:()=>l});var a=i(9662),r=i(579);const l=(0,a.A)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},6600:(e,t,i)=>{i.d(t,{A:()=>p});var a=i(5043),r=i(8387),l=i(8610),n=i(4496),s=i(4535),o=i(8206),d=i(7034),c=i(2563),u=i(579);const h=(0,s.Ay)(n.A,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(e,t)=>t.root})({padding:"16px 24px",flex:"0 0 auto"}),p=a.forwardRef((function(e,t){const i=(0,o.b)({props:e,name:"MuiDialogTitle"}),{className:n,id:s,...p}=i,x=i,m=(e=>{const{classes:t}=e;return(0,l.A)({root:["root"]},d.t,t)})(x),{titleId:b=s}=a.useContext(c.A);return(0,u.jsx)(h,{component:"h2",className:(0,r.A)(m.root,n),ownerState:x,ref:t,variant:"h6",id:s??b,...p})}))}}]);
//# sourceMappingURL=4041.5a7b1bb4.chunk.js.map