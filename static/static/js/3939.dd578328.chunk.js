"use strict";(self.webpackChunk_log4u_admin_frontend=self.webpackChunk_log4u_admin_frontend||[]).push([[3939],{7521:(e,t,a)=>{a.d(t,{h:()=>i});var l=a(5043);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r.apply(null,arguments)}const n=(e,t)=>{let{title:a,titleId:n,...i}=e;return l.createElement("svg",r({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",ref:t,"aria-labelledby":n},i),a?l.createElement("title",{id:n},a):null,l.createElement("circle",{cx:64,cy:75,r:45,fill:"none",strokeWidth:10,style:{stroke:"currentcolor"}}),l.createElement("path",{d:"M 96.94 40.17 C 96.94 23.36 82.19 9.73 64 9.73 C 45.81 9.73 31.06 23.36 31.06 40.17",style:{paintOrder:"fill",strokeWidth:6,stroke:"currentcolor",fill:"rgba(255, 255, 255, 0)"}}),l.createElement("polyline",{points:"39.98 19.5 37.64 5.17 50.61 14.17",style:{stroke:"currentcolor",strokeWidth:4,fill:"rgba(0, 0, 0, 0)"}}),l.createElement("polyline",{points:"87.05 19.5 89.39 5.17 76.42 14.17",style:{stroke:"currentcolor",strokeWidth:4,fill:"rgba(0, 0, 0, 0)"}}),l.createElement("path",{d:"M 29.27 108.3 C 28.05 113.07 26.83 117.84 25.62 122.61",style:{stroke:"currentcolor",paintOrder:"stroke",strokeLinecap:"round",strokeWidth:4}}),l.createElement("path",{d:"M 25.72 122.61 C 38.31 122.83 50.91 123.05 63.5 123.28",style:{stroke:"currentcolor",strokeWidth:4,strokeLinecap:"round"}}),l.createElement("path",{d:"M 98.96 108.3 C 100.18 113.07 101.4 117.84 102.61 122.61",style:{strokeLinecap:"round",strokeWidth:4,stroke:"currentcolor",paintOrder:"stroke"}}),l.createElement("path",{d:"M 102.5 122.61 C 88.91 122.85 76.32 123.07 64.72 123.28",style:{strokeLinecap:"round",stroke:"currentcolor",strokeWidth:4}}),l.createElement("polyline",{points:"63 39.5 63 79.5 79.91 93.83",style:{stroke:"currentcolor",strokeWidth:6,paintOrder:"fill",strokeLinecap:"round",fill:"rgba(255, 255, 255, 0)"}}))},i=(0,l.forwardRef)(n);a.p},6252:(e,t,a)=>{a.d(t,{h:()=>i});var l=a(5043);function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var l in a)({}).hasOwnProperty.call(a,l)&&(e[l]=a[l])}return e},r.apply(null,arguments)}const n=(e,t)=>{let{title:a,titleId:n,...i}=e;return l.createElement("svg",r({focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"LocalShippingIcon",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":n},i),a?l.createElement("title",{id:n},a):null,l.createElement("path",{d:"m20 8h-3v-4h-14c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zm-14 10.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5h-4.46v-2.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm-14.7-9 1.53 0 0 1.66-3.03 0 1.51-1.66zm2.46-2.74 1.66-1.84 0 4.57.94 0 0 1.66-.94 0 0 1.93-1.66 0 0-6.33zm6.58 6.48c-.37-.06-.72-.19-1.04-.37-.32-.19-.61-.42-.86-.7-.28-.32-.49-.67-.61-1.05-.12-.39-.18-.87-.18-1.44l0-4.51 1.66 0 0 4.36c0 .31.01.57.05.78.03.21.08.39.16.55.08.15.19.28.32.38.14.1.31.19.52.27l0 1.74zm.91-1.74c.21-.07.37-.16.51-.26.14-.1.25-.23.33-.39.08-.14.14-.31.17-.5.03-.2.05-.47.05-.83l0-4.36 1.65 0 0 4.51c0 .58-.06 1.06-.18 1.44-.12.38-.33.73-.61 1.05-.25.29-.54.52-.87.7-.33.18-.68.3-1.04.37l0-1.74z",style:{fillRule:"evenodd",fill:"currentcolor"}}))},i=(0,l.forwardRef)(n);a.p},8807:(e,t,a)=>{a.d(t,{A:()=>m});var l=a(5043),r=a(5563),n=a(950),i=a(4944),o=a(9129),s=a(7392),d=a(7166),c=a(6910),u=a(4133),h=a(5552),p=a(579);function m(e){let{location:t,onRefClick:a,addInfo:m,children:g}=e;const[x,v]=l.useState(null),[f,b]=l.useState([]),[A,y]=l.useState(null),j=l.useMemo((()=>(0,n.A)((e=>{((null===A||void 0===A?void 0:A.geocode(e))||Promise.reject()).then((t=>{if(t.results.length<1&&e.location){const t=new google.maps.LatLng(e.location),a={address_components:[],formatted_address:`[${t.lat()}, ${t.lng()}]`,geometry:{location:t,location_type:google.maps.GeocoderLocationType.APPROXIMATE,viewport:new google.maps.LatLngBounds},place_id:`[${t.lat()}, ${t.lng()}]`,types:[]};b([a])}else t.results.forEach((e=>e.formatted_address=(0,o.s)(e.address_components))),b(t.results)})).catch((()=>{b([])}))}),400)),[A]);l.useEffect((()=>{const e=t&&(0,u.U)(f);t&&e&&(null===e||void 0===e?void 0:e.place_id)!==(null===x||void 0===x?void 0:x.place_id)&&v(e)}),[t,f]),l.useEffect((()=>{t?j({location:{lat:t[0],lng:t[1]}}):(b([]),v(null))}),[A,t.join(",")]);return(0,p.jsxs)("span",{style:{display:"flex"},children:[(0,p.jsx)(r.Wrapper,{...(0,h.iz)(),render:e=>{const t=(0,i.dh)(),[,a]=(0,i.pn)();return l.useLayoutEffect((()=>(e===r.Status.LOADING&&a(!0),e===r.Status.FAILURE&&t({severity:"error",message:"Error loading maps!"}),e===r.Status.SUCCESS&&y(new window.google.maps.Geocoder),()=>{e===r.Status.LOADING&&a(!1)})),[e]),null}}),(0,p.jsxs)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",textAlign:"left"},title:`${x?x.formatted_address:""}\n`+m,children:[a?(0,p.jsx)("a",{href:"#",target:"_blank",onClick:a,children:x?x.formatted_address:""}):x?x.formatted_address:"",m?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("br",{}),m]}):null,g]}),x?(0,p.jsx)(s.A,{size:"small",onClick:e=>{(0,d.d)(e),navigator.clipboard.writeText(x.formatted_address)},children:(0,p.jsx)(c.A,{sx:{height:"16px",width:"16px"}})}):null]})}},3939:(e,t,a)=>{a.r(t),a.d(t,{default:()=>ge});var l=a(5043),r=a(3216),n=a(9781),i=a(2836),o=a(5604),s=a(6240),d=a(4535),c=a(1546),u=a(7784),h=a(7739),p=a(39),m=a(2143),g=a(7353),x=a(1806),v=a(3460),f=a(9650),b=a(4882),A=a(9090),y=a(8076),j=a(8093),k=a(5263),w=a(4496),S=a(1596),E=a(7392),C=a(1045),P=a(1962),I=a(6353),O=a(8039),T=a(5392),D=a(1809),L=a(9397),N=a(6910),R=a(524),F=a(147),_=a(4681),W=a(1906),$=a(1079),z=a(579);const M=9e5,G=e=>{let t=(e-new Date)/6e4;return t=t>0?Math.ceil(t):0,t};function B(e){let{truck:t,index:a}=e;const[r,o]=l.useState(0),{reservedAt:s,reservedBy:d}=t,c=s&&new Date(new Date(s).getTime()+M),u=new Date<c;l.useEffect((()=>{if(u){o(G(c));const e=setInterval((()=>{o(G(c))}),2e3);return()=>{clearInterval(e),o(0)}}}),[u,c]);const h=(0,n.jE)(),{mutate:p}=(0,i.n)($.lO,{onSuccess:()=>{h.invalidateQueries({queryKey:["trucks"],refetchType:"active"})},onError:()=>{}}),m=`enhanced-table-checkbox-${a}`,g=""+(u&&d?"Reserved by:\n"+d.fullName+"\nTime left: "+r+"min":"");return(0,z.jsx)(W.A,{id:`${m}`,title:g,sx:{m:1,height:"35px",lineHeight:"normal",fontSize:"x-small"},fullWidth:!0,variant:"contained",size:"small",color:"primary",onClickCapture:e=>{e.preventDefault(),e.stopPropagation(),p({id:t.id,reservedAt:u?null:new Date})},children:u?(0,z.jsxs)("span",{children:["Unreserve",(0,z.jsx)("br",{}),"(",r,"min)"]}):"Reserve"})}var U=a(7521),H=a(6252),K=a(8612),V=a(8807),q=a(5563),Z=a(7108),Y=a(8903),J=a(1082),Q=a(950),X=a(4944),ee=a(9129),te=a(4133),ae=a(5552),le=a(8954);function re(e){let{label:t,placeholder:a,filterSelectedOptions:r=!1,disabled:n,value:i,setValue:o}=e;const[s,d]=l.useState(null),[c,h]=l.useState([]),[p,m]=l.useState(null),[x,v]=l.useState([]),f=l.useMemo((()=>(0,Q.A)((e=>{((null===p||void 0===p?void 0:p.geocode(e))||Promise.reject()).then((t=>{if(t.results.length<1&&e.location){const t=new google.maps.LatLng(e.location),a={address_components:[],formatted_address:`[${t.lat()}, ${t.lng()}]`,geometry:{location:t,location_type:google.maps.GeocoderLocationType.APPROXIMATE,viewport:new google.maps.LatLngBounds},place_id:`[${t.lat()}, ${t.lng()}]`,types:[]};h([a])}else t.results.forEach((e=>e.formatted_address=(0,ee.s)(e.address_components))),h(t.results)})).catch((()=>{h([])}))}),400)),[p]);l.useEffect((()=>{s&&!c.find((e=>(null===e||void 0===e?void 0:e.place_id)===(null===s||void 0===s?void 0:s.place_id)))?v([s,...c]):v([...c])}),[c,s]),l.useEffect((()=>{const e=i&&(0,te.U)(c);i&&e&&(null===e||void 0===e?void 0:e.place_id)!==(null===s||void 0===s?void 0:s.place_id)?d(e):i||(h([]),d(null))}),[p,i]);return(0,z.jsxs)(z.Fragment,{children:[(0,z.jsx)(q.Wrapper,{...(0,ae.iz)(),render:e=>{const t=(0,X.dh)(),[,a]=(0,X.pn)();return l.useLayoutEffect((()=>(e===q.Status.LOADING&&a(!0),e===q.Status.FAILURE&&t({severity:"error",message:"Error loading maps!"}),e===q.Status.SUCCESS&&m(new window.google.maps.Geocoder),()=>{e===q.Status.LOADING&&a(!1)})),[e]),null}}),(0,z.jsx)(Z.A,{disabled:n,getOptionLabel:e=>"string"===typeof e?e:e.formatted_address||"",filterOptions:e=>e,options:x,isOptionEqualToValue:(e,t)=>(null===e||void 0===e?void 0:e.place_id)===(null===t||void 0===t?void 0:t.place_id),autoComplete:!0,includeInputInList:!0,filterSelectedOptions:r,value:s,noOptionsText:"No data",onChange:(e,t)=>{const a=(0,le.X)(t);d(t),o(a)},onInputChange:(e,t,a)=>{"input"===a&&f({address:t})},renderInput:e=>(0,z.jsx)(u.A,{...e,fullWidth:!0,size:"small",label:t,placeholder:a}),renderOption:(e,t)=>(0,l.createElement)("li",{...e,disabled:n,key:e.key||t.place_id},(0,z.jsxs)(Y.Ay,{container:!0,alignItems:"center",children:[(0,z.jsx)(Y.Ay,{item:!0,sx:{display:"flex",width:44},children:(0,z.jsx)(J.A,{sx:{color:"text.secondary"}})}),(0,z.jsx)(Y.Ay,{item:!0,sx:{width:"calc(100% - 44px)",wordWrap:"break-word"},children:(0,z.jsx)(g.A,{component:"span",sx:{fontWeight:"regular"},children:t.formatted_address})})]}))})]})}var ne=a(8833),ie=a(6431),oe=a(7166),se=a(7302),de=a(9904);const ce=[{id:"truckNumber",orderField:"truckNumber",getData:e=>({data:`${e.truckNumber}`}),numeric:!0,disablePadding:!1,label:"Truck\xa0Number"},{id:"mainContactInfo",getData:e=>{const t=e.coordinator||e.owner;let a="",l="",r="",n="";return t&&(a=`./${(0,ie.Yn)(t)}/view/${t.id}`,l=`${(0,ie.Pw)(t)} `,r=`${t.fullName}`,n=`${null===t||void 0===t?void 0:t.phone}`),{data:(0,z.jsxs)("span",{style:{display:"flex"},children:[(0,z.jsxs)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",textAlign:"left"},children:[(0,z.jsx)("b",{children:l}),(0,z.jsx)("a",{href:a,target:"_blank",onClick:oe.d,children:r}),(0,z.jsx)("br",{}),(0,z.jsx)("a",{href:n?`tel:${n}`:void 0,target:"_blank",onClick:oe.d,children:n||"\xa0"})]}),(0,z.jsx)(E.A,{size:"small",onClick:e=>{(0,oe.d)(e),navigator.clipboard.writeText(r+" "+n)},children:(0,z.jsx)(N.A,{sx:{height:"16px",width:"16px"}})})]}),title:l+""+r+"\n"+n}},numeric:!1,disablePadding:!0,label:"Main\xa0Contact\xa0info"},{id:"truckInfo",getData:e=>{const t=e.type?`${e.type}`:"",a=e.equipment?`${e.equipment.join(", ")}`:"";return{data:(0,z.jsxs)("span",{children:[t,(0,z.jsx)("br",{}),a]}),title:t+"\n"+a}},numeric:!1,disablePadding:!0,label:"Truck\xa0info"},{id:"dimsAndPayload",getData:e=>{const t=e.insideDims?`${e.insideDims}`:"",a=e.doorDims?`${e.doorDims}`:"",l=e.payload?`${e.payload}`:"";return{data:(0,z.jsxs)("span",{children:[(t?t+" ":"")+(a?"("+a+")":""),(0,z.jsx)("br",{}),l]}),title:(t?t+" Inside ":"")+(a?a+" Door ":"")+"\n"+l+" Payload"}},numeric:!1,disablePadding:!0,label:"DIMS/Payload"},{id:"status",orderField:"status",getData:e=>{const t=(0,s.A)(),a=`${e.status}`,l=(()=>{switch(a){case"Will be available":return(0,z.jsx)(U.h,{style:{height:"24px",width:"24px",color:t.palette.cat.main}});case"On route":return(0,z.jsx)(H.h,{style:{height:"24px",width:"24px",color:t.palette.truck.main}});case"Available":return(0,z.jsx)(C.A,{sx:{height:"24px",width:"24px",bgcolor:F.A[500],margin:"auto"},children:"A"});case"Not Available":return(0,z.jsx)(C.A,{sx:{height:"24px",width:"24px",bgcolor:_.A[500],margin:"auto"},children:"N"});default:return a}})();return{data:(0,z.jsx)("span",{children:l}),title:a}},numeric:!1,disablePadding:!0,label:"Status"},{id:"willBeAtLocation",getData:e=>{if(null!==e&&void 0!==e&&e.availabilityLocation){const t=`${e.availabilityAtLocal?de.k.format((0,se.bb)(e.availabilityAtLocal)):""}`;return{data:(0,z.jsx)(V.A,{location:e.availabilityLocation,addInfo:t})}}return{data:""}},numeric:!1,disablePadding:!0,label:"Will\xa0be\xa0at\xa0location"},{id:"roadsDistance",getData:e=>{var t;return{data:`${(null===(t=e.milesByRoads)||void 0===t?void 0:t.toFixed(2))||""}`}},numeric:!1,disablePadding:!0,label:"Road\xa0distance"},{id:"location",getData:(e,t)=>{const a=a=>{a.preventDefault(),(0,oe.d)(a),t([e])};if(null!==e&&void 0!==e&&e.lastLocation){const t=`${e.locationUpdatedAt?de.k.format(new Date(e.locationUpdatedAt)):""}`;return{data:(0,z.jsx)(V.A,{location:e.lastLocation,onRefClick:a,addInfo:t})}}return{data:""}},numeric:!1,disablePadding:!0,label:"Last\xa0known\xa0location"}],ue=(0,d.Ay)(b.A)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.background.default}})),he=(0,d.Ay)(p.A)((()=>({maxWidth:"100px",paddingTop:"6px",paddingBottom:"6px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"})));function pe(e){const{order:t,orderBy:a,onRequestSort:l}=e;return(0,z.jsx)(ue,{children:(0,z.jsxs)(y.A,{children:[(0,z.jsx)(he,{align:"center",padding:"checkbox",children:"Actions"}),ce.map((e=>{return(0,z.jsx)(he,{align:e.numeric?"right":"center",padding:e.disablePadding?"none":"normal",sortDirection:a===e.id&&t,children:(0,z.jsxs)(j.A,{active:e.orderField&&a===e.orderField,hideSortIcon:!e.orderField,direction:a===e.orderField?t:"asc",onClick:e.orderField?(r=e.orderField,e=>{l(e,r)}):()=>{},children:[e.label,e.orderField&&a===e.orderField?(0,z.jsx)(g.A,{component:"span",sx:R.A,children:"desc"===t?"sorted descending":"sorted ascending"}):null]})},e.id);var r}))]})})}function me(e){const{selected:t,setQueryParams:a}=e,[r,o]=l.useState(void 0),[s,d]=l.useState(null),[p,x]=l.useState(null),[v,f]=l.useState(!1),[b,A]=l.useState(!1),[y,j]=l.useState(!1),[S,C]=l.useState(["Available"]),[N,R]=l.useState(200),[F,_]=l.useState(!1),W=(0,n.jE)(),M=(0,X.dh)(),{isLoading:G}=(0,i.n)($.pF,{onSuccess:()=>{M({severity:"success",message:"Deleted"}),W.invalidateQueries(["trucks"])},onError:e=>{M({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),B=()=>{v||b||(a((e=>{const t={...e};return s&&(t.availableAfter=s),p&&(t.availableBefore=p),t})),_(!1))},U=()=>{j(!1),H()},H=()=>{S.length&&S.length!==ne.IY.length?(a((e=>({...e,status:S}))),_(!1)):(a((e=>{const{status:t,...a}=e;return{...a}})),_(!1))};return(0,z.jsxs)(k.A,{sx:{overflow:"hidden",pl:{sm:2},pr:{xs:1,sm:1},...t.length>0&&{bgcolor:e=>(0,c.X4)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[t.length>0?(0,z.jsxs)(w.A,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[t.length," selected"]}):(0,z.jsx)(w.A,{sx:{flex:"1 1 100%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},variant:"h6",id:"tableTitle",component:"div",children:"Trucks Nearby"}),(0,z.jsx)(g.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"350px"}},children:(0,z.jsx)(re,{label:"Enter city, state or zip",value:r,setValue:e=>{o(e),e?(a((t=>({...t,lastLocation:e.join(","),distance:N}))),_(!1)):(a((e=>{const{...t}=e;return t})),_(!1))}})}),(0,z.jsx)(g.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"200px"}},children:(0,z.jsx)(T.K,{label:"Select available from",ampm:!1,disablePast:!0,maxDateTime:p||void 0,disableIgnoringDatePartForTimeValidation:!0,viewRenderers:{hours:O.Zo,minutes:O.Zo,seconds:O.Zo},slotProps:{textField:{fullWidth:!0,size:"small",id:"availableFrom",name:"Select available from",onBlur:B}},value:s,onChange:e=>{d(e),_(!0)},onClose:B,onError:e=>{f(!!e)}})}),(0,z.jsx)(g.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"200px"}},children:(0,z.jsx)(T.K,{label:"Select available to",ampm:!1,disablePast:!0,minDateTime:s||void 0,disableIgnoringDatePartForTimeValidation:!0,viewRenderers:{hours:O.Zo,minutes:O.Zo,seconds:O.Zo},slotProps:{textField:{fullWidth:!0,size:"small",id:"availableTo",name:"Select available to",onBlur:B}},value:p,onChange:e=>{x(e),_(!0)},onClose:B,onError:e=>{A(!!e)}})}),(0,z.jsx)(g.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"140px"}},children:(0,z.jsx)(u.A,{select:!0,SelectProps:{multiple:!0,open:y,renderValue:e=>e.join(", "),onOpen:()=>{j(!0)},onClose:U},label:"Select Status",value:S,onChange:e=>{C(e.target.value),_(!0)},onKeyUpCapture:e=>{"Enter"===e.key&&((0,oe.d)(e),U())},onKeyDownCapture:e=>{"Enter"===e.key&&(0,oe.d)(e)},onBlur:H,size:"small",fullWidth:!0,title:S.join(", "),children:ne.IY.map((e=>(0,z.jsxs)(m.A,{value:e,children:[(0,z.jsx)(P.A,{checked:S.indexOf(e)>-1,id:e}),(0,z.jsx)(I.A,{primary:e})]},e)))})}),(0,z.jsx)(g.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"140px"}},children:(0,z.jsx)(u.A,{select:!0,label:"Select Distance",value:N,onChange:e=>{Number.isInteger(Number(e.target.value))&&(R(Number(e.target.value)),r&&(a((t=>({...t,distance:Number(e.target.value)}))),_(!1)))},size:"small",fullWidth:!0,children:Array.from({length:20},((e,t)=>50+50*t)).map((e=>(0,z.jsx)(m.A,{value:e,children:e},e)))})}),(0,z.jsx)(h.A,{title:"Filter list",children:F||!(r||s||p||1!==S.length||"Available"!==S[0])?(0,z.jsx)("span",{children:(0,z.jsx)(E.A,{disabled:(!r||!N)&&!(s||p||1!==S.length||"Available"!==S[0])||v||b,onClick:()=>{const e={};r&&(e.lastLocation=r.join(","),e.distance=N),0!==S.length&&S.length!==ne.IY.length&&(e.status=S),e.availableAfter=s,e.availableBefore=p,a(e),_(!1)},children:(0,z.jsx)(D.A,{})})}):(0,z.jsx)("span",{children:(0,z.jsx)(E.A,{onClick:()=>{o(void 0),d(null),x(null),C(["Available"]),R(200),a({status:["Available"]}),_(!1)},children:(0,z.jsx)(L.A,{})})})}),(0,z.jsx)(K.A,{visible:G})]})}function ge(){const[e,t]=l.useState(void 0),[a,n]=l.useState(void 0),[i,s]=l.useState([]),[d,c]=l.useState(0),[u,h]=l.useState(15),[p,m]=l.useState({status:["Available"]}),b=l.useRef(null),j=(0,r.zy)(),k=(0,r.Zp)(),w=(0,X.dh)(),[,E]=(0,X.ko)(),{isLoading:C,isFetching:P,error:I,data:{items:O,total:T}={items:[],total:0}}=(0,o.I)({queryKey:["trucks",d,u,a,e,p],queryFn:$.fG,keepPreviousData:!0,retry:!1});l.useEffect((()=>{I&&w({severity:"error",message:I instanceof Error?I.message:JSON.stringify(I)})}),[I]);const D=O||[];l.useEffect((()=>{if(b.current){b.current.scrollTo({top:0,left:0,behavior:"smooth"})}}),[D]),l.useEffect((()=>{const e=[];i.forEach((t=>{D.find((e=>e.id===t))&&e.push(t)})),s(e)}),[D]);return(0,z.jsxs)(g.A,{sx:{width:"100%",height:"100%"},children:[(0,z.jsxs)(S.A,{sx:{width:"100%",height:"100%",backgroundColor:"unset"},children:[(0,z.jsx)(me,{selected:i,setQueryParams:e=>{m(e),c(0)}}),(0,z.jsx)(f.A,{ref:b,sx:{height:"calc(100% - 115px)"},children:(0,z.jsxs)(x.A,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",stickyHeader:!0,children:[(0,z.jsx)(pe,{numSelected:i.length,order:e,orderBy:a,onSelectAllClick:e=>{if(e.target.checked){const e=D.map((e=>e.id));s(e)}else s([])},onRequestSort:(l,r)=>{const i=a===r&&"asc"===e;a===r&&"desc"===e?(t(void 0),n(void 0)):(t(i?"desc":"asc"),n(r))},rowCount:D.length}),(0,z.jsx)(v.A,{children:D.map(((e,t)=>{const a=(l=`${e.id}`,-1!==i.indexOf(l));var l;return(0,z.jsxs)(y.A,{hover:!0,onDoubleClick:t=>{k(`./view/${e.id}`,{relative:"path",state:{from:j},replace:!1})},role:"checkbox","aria-checked":a,tabIndex:-1,selected:a,sx:{cursor:"pointer"},children:[(0,z.jsx)(he,{padding:"checkbox",children:(0,z.jsx)(B,{truck:e,index:t})}),ce.map((t=>{const a=t.getData(e,E);return(0,z.jsx)(he,{title:a.title,align:t.numeric?"right":"center",children:a.data},t.id)}))]},e.id)}))})]})}),(0,z.jsx)(A.A,{rowsPerPageOptions:[5,10,15,20,25,35,50],component:"div",count:T,rowsPerPage:u,page:d,onPageChange:(e,t)=>{c(t)},onRowsPerPageChange:e=>{h(parseInt(e.target.value,10)),c(0)}})]}),(0,z.jsx)(K.A,{visible:C||P})]})}},8833:(e,t,a)=>{a.d(t,{$W:()=>p,IY:()=>o,Jf:()=>u,Ju:()=>i,Lv:()=>m,Ny:()=>g,P7:()=>v,Sr:()=>n,fo:()=>r,h9:()=>h,lk:()=>x,mW:()=>d,p5:()=>s,pI:()=>c,z5:()=>l});const l=["EN","UA","ES","RU"],r=["Admin","Super Admin"],n=["BROKER DOMESTIC","BROKER INTERNATIONAL","FREIGHT FORWARDER DOMESTIC","FREIGHT FORWARDER INTERNATIONAL","SHIPPER/CONSIGNEE DOMESTIC","SHIPPER/CONSIGNEE INTERNATIONAL","OTHER"],i=["Cargo van","Reefer van","Box truck","Box truck Reefer","Straight truck","Hotshot","Tented box"],o=["Available","Not Available","Will be available","On route"],s=["Yes","No"],d=["Hazmat","Tsa","TWIC","Tanker Endorsement"],c=["Dock height risers","Air ride","Lift gate","Keep from freezing","ICC bar","Vertical E-track","Horizontal E-track","Pallet jack","PPE","Ramps","Straps","Loads bars","Blankets","Pads","Fire extinguisher","Metal hooks","Reefer","Heater"],u=["Available","Planned","In Progress","TONU","Cancelled","Completed"],h=["New","On route to PU","On site PU","Loaded, Waiting GTG","GTG","Completed"],p=["New","On route to DEL","On site DEL","Unloaded, Waiting GTG","GTG","Completed"],m=["LBS","KG","TON"],g=["FT","IN","M","CM"];let x=function(e){return e.PickUp="PickUp",e.Delivery="Delivery",e}({}),v=function(e){return e.FCFS="FCFS",e.APPT="APPT",e.ASAP="ASAP",e.Direct="Direct",e}({})},9904:(e,t,a)=>{a.d(t,{k:()=>l});const l=Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})},6910:(e,t,a)=>{a.d(t,{A:()=>n});var l=a(9662),r=a(579);const n=(0,l.A)((0,r.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")}}]);
//# sourceMappingURL=3939.dd578328.chunk.js.map