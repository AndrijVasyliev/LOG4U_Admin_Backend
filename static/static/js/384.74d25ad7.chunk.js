"use strict";(self.webpackChunk_log4u_admin_frontend=self.webpackChunk_log4u_admin_frontend||[]).push([[384],{86:(e,i,t)=>{t.r(i),t.d(i,{default:()=>T,initialFreightValues:()=>w,initialStopDeliveryValues:()=>S,initialStopPickUpValues:()=>I});t(5043);var l=t(9781),r=t(2836),d=t(3892),s=t(899),a=t(4516),n=t(1906),o=t(9336),c=t(1403),u=t(6216),m=t(9893),f=t(4361),p=t(3189),x=t(1079),b=t(908),h=t(8833),j=t(579);const g=s.Ik({type:s.Yj().oneOf([h.P7.FCFS,h.P7.ASAP,h.P7.APPT]).required("Type is required"),at:s.p6().when(["type"],((e,i)=>e[0]===h.P7.FCFS?i.oneOf([void 0]):i.required("At is required"))),from:s.p6().when(["type"],((e,i)=>e[0]!==h.P7.FCFS?i.oneOf([void 0]):i.required("From is required"))),to:s.p6().when(["type"],((e,i)=>e[0]!==h.P7.FCFS?i.oneOf([void 0]):i.required("To is required")))}),A=s.Ik({type:s.Yj().oneOf([h.P7.FCFS,h.P7.Direct,h.P7.APPT]).required("Type is required"),at:s.p6().when(["type"],((e,i)=>e[0]===h.P7.FCFS?i.oneOf([void 0]):i.required("At is required"))),from:s.p6().when(["type"],((e,i)=>e[0]!==h.P7.FCFS?i.oneOf([void 0]):i.required("From is required"))),to:s.p6().when(["type"],((e,i)=>e[0]!==h.P7.FCFS?i.oneOf([void 0]):i.required("To is required")))}),k=s.Ik({pieces:s.ai().integer().min(1).required("Pieces must be at least 1"),unitOfWeight:s.Yj().oneOf(h.Lv).required("Unit of weight is required"),weight:s.ai().moreThan(0).required("Weight is required"),unitOfLength:s.Yj().oneOf(h.Ny).required("Unit of length is required"),length:s.ai().moreThan(0).required("Length is required")}),y=s.Ik({status:s.Yj().oneOf(h.h9).required("Stop Pick Up Status is required"),facility:s.Ik({id:s.Yj().required()}).typeError("Enter correct facility").required("Facility is required"),timeFrame:g.required("Time frame is required"),freightList:s.YO().of(k.required("Freight is required")).required("Stop pickup must contain al least one freight"),addInfo:s.Yj()}),v=s.Ik({status:s.Yj().oneOf(h.$W).required("Stop Delivery Status is required"),facility:s.Ik({id:s.Yj().required()}).typeError("Enter correct facility").required("Facility is required"),timeFrame:A.required("Time frame is required"),addInfo:s.Yj()}),C=s.Ik({status:s.Yj().oneOf(h.Jf).required("Status is required"),ref:s.YO().of(s.Yj().required("Ref must not be empty")).min(1,"REF is required").max(3,"REF must contain not more then 3 items").required("REF is required"),stops:s.YO().of(s.RZ((e=>{switch(e.type){case h.lk.PickUp:return y.required("Stop pickup is required");case h.lk.Delivery:return v.required("Stop delivery is required");default:return s.gl().oneOf([void 0]).required('Type of stop must be "Pick Up" or "Delivery"')}}))).min(2).required("Stops are required"),weight:s.Yj().required("Weight is required"),truckType:s.YO(s.Yj().oneOf(h.Ju)).min(1,"Select at list one").required("Truck Type is required"),rate:s.ai().typeError("Rate must be a number"),totalCharges:s.ai().typeError("Total charges must be a number").required("Total charges is required"),currency:s.Yj().required("Currency is required"),bookedByUser:s.Ik({id:s.Yj().required()}).typeError("Enter correct user").required("Booked by is required"),bookedByCompany:s.Yj(),assignTo:s.YO(s.Ik({id:s.Yj().required()}).typeError("Enter correct user")).min(1,"Assign To is required").required("Assign To is required"),checkInAs:s.Yj(),truck:s.Ik({id:s.Yj().required()}).typeError("Enter correct truck").nullable(),bookedWith:s.Ik({id:s.Yj().required()}).typeError("Enter correct customer").required("Booked with is required")}),N={type:h.P7.APPT,at:null},$={type:h.P7.APPT,at:null},w={pieces:null,unitOfWeight:"KG",weight:null,unitOfLength:"M",length:null},I={type:h.lk.PickUp,status:"New",timeFrame:N,facility:null,freightList:[w],addInfo:void 0},S={type:h.lk.Delivery,status:"New",timeFrame:$,facility:null,addInfo:void 0},F={status:"Available",ref:[],stops:[I,S],weight:void 0,truckType:[],rate:void 0,totalCharges:void 0,currency:"USD",bookedByUser:null,bookedByCompany:void 0,assignTo:[],checkInAs:"4ULogistics",truck:null,bookedWith:null};function T(e){let{onClose:i}=e;const t=(0,l.jE)(),s=(0,b.dh)(),{mutate:g,isLoading:A}=(0,r.n)(x.te,{onSuccess:e=>{s({severity:"success",message:"Created"}),t.invalidateQueries(["loads"]),i("Create",e)},onError:e=>{s({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),k=(0,d.Wx)({initialValues:F,enableReinitialize:!0,validationSchema:C,onSubmit:e=>{g(e)}});return(0,j.jsxs)(a.A,{sx:{height:"100%"},children:[(0,j.jsx)("form",{onSubmit:k.handleSubmit,onReset:k.handleReset,style:{height:"100%"},children:(0,j.jsxs)(a.A,{sx:{p:3,height:"100%"},children:[(0,j.jsx)(o.A,{}),(0,j.jsxs)(a.A,{sx:{maxHeight:"calc(100% - 70px)",overflowX:"hidden",overflowY:"scroll"},children:[(0,j.jsxs)(a.A,{sx:{marginBottom:-1,p:1},children:[(0,j.jsx)(p.zM,{fieldName:"status",label:"Status",items:h.Jf,disabledItems:h.Jf.filter((e=>"Available"!==e)),formik:k}),(0,j.jsx)(p.A_,{fieldName:"ref",label:"REF",multiline:!0,maxRows:3,formik:k}),(0,j.jsx)(f.A,{fieldName:"stops",formik:k})]},"topControls"),(0,j.jsxs)(a.A,{sx:{display:"inline-flex",width:"100%"},children:[(0,j.jsxs)(a.A,{sx:{p:1,width:"50%"},children:[(0,j.jsx)(p.A_,{fieldName:"weight",label:"Weight",formik:k}),(0,j.jsx)(p.yJ,{fieldName:"truckType",label:"Truck Type",items:h.Ju,formik:k}),(0,j.jsx)(p.Lw,{fieldName:"bookedByUser",label:"Booked By",getSelectedLabel:e=>`${e.fullName}`,getItemLabel:e=>`${e.fullName}`,getItemSecondLabel:e=>`${e.jobTitle}`,ListIcon:m.A,entityType:"User",queryFn:x.Fw,orderby:"fullName",order:"asc",formik:k}),(0,j.jsx)(p.Lw,{fieldName:"bookedWith",label:"Booked With",getSelectedLabel:e=>`${e.name}`,getItemLabel:e=>`${e.name}`,getItemSecondLabel:e=>`${e.type}`,ListIcon:u.A,entityType:"Customer",queryFn:x.sg,orderby:"name",order:"asc",formik:k}),(0,j.jsx)(p.Lw,{fieldName:"truck",label:"Truck",getSelectedLabel:e=>`${e.truckNumber}`,getItemLabel:e=>`${e.truckNumber}`,getItemSecondLabel:e=>`${e.status}, ${e.licencePlate}`,ListIcon:c.A,entityType:"Truck",queryFn:x.fG,orderby:"truckNumber",order:"asc",formik:k})]},"left"),(0,j.jsxs)(a.A,{sx:{p:1,width:"50%"},children:[(0,j.jsx)(p.A_,{fieldName:"rate",label:"Rate",number:!0,formik:k}),(0,j.jsx)(p.A_,{fieldName:"totalCharges",label:"Total Charges",placeholder:"Enter total rate",number:!0,formik:k}),(0,j.jsx)(p.A_,{fieldName:"currency",label:"Currency",formik:k}),(0,j.jsx)(p.A_,{fieldName:"checkInAs",label:"Check In As",formik:k}),(0,j.jsx)(p.A_,{fieldName:"bookedByCompany",label:"Booked By Company",formik:k})]},"right")]},"centerControls"),(0,j.jsxs)(a.A,{sx:{p:1,paddingBottom:0,paddingTop:0},children:[(0,j.jsx)(p.YY,{fieldName:"assignTo",label:"Assign To",getSelectedLabel:e=>`${e.fullName}`,getItemLabel:e=>`${e.fullName}`,getItemSecondLabel:e=>`${e.jobTitle}`,ListIcon:m.A,queryFn:x.Fw,orderby:"fullName",order:"asc",formik:k}),(0,j.jsx)(a.A,{sx:{paddingBottom:2,paddingTop:2}},"spacerRate"),(0,j.jsx)(p.$c,{objectId:void 0,objectType:"Load",label:"Rate Files",tags:{undefined:"Rate"},disabled:!0}),(0,j.jsx)(a.A,{sx:{paddingBottom:2,paddingTop:2}},"spacerBill"),(0,j.jsx)(p.$c,{objectId:void 0,objectType:"Load",label:"Bill Files",tags:{undefined:"Bill"},disabled:!0})]},"bottomControls")]},"controls"),(0,j.jsx)(o.A,{}),(0,j.jsxs)(a.A,{sx:{paddingTop:3,display:"flex"},children:[(0,j.jsx)(a.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,j.jsx)(n.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"submit",children:"Create"})},"left"),(0,j.jsx)(a.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,j.jsx)(n.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"button",onClick:()=>{i("Close")},children:"Cancel"})},"right")]},"buttons")]})}),(0,j.jsx)(p.aH,{visible:A})]})}},4361:(e,i,t)=>{t.d(i,{A:()=>D});var l=t(5043),r=t(3097),d=t.n(r),s=t(4516),a=t(3766),n=t(6605),o=t(710),c=t(1477),u=t(5954),m=t(4496),f=t(7392),p=t(9662),x=t(579);const b=(0,p.A)((0,x.jsx)("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8z"}),"ArrowUpward"),h=(0,p.A)((0,x.jsx)("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8z"}),"ArrowDownward");var j=t(141);const g=(0,p.A)((0,x.jsx)("path",{d:"M19 13H5v-2h14z"}),"Remove");var A=t(3189),k=t(8833);function y(e){let{fieldName:i,values:t,disabled:r,formik:a}=e;const n=d()(a.values,i);return l.useEffect((()=>{n.type===k.P7.FCFS?((n.at||null===n.at)&&a.setFieldValue(`${i}.at`,void 0),!n.from&&a.setFieldValue(`${i}.from`,null),!n.to&&a.setFieldValue(`${i}.to`,null)):n.type&&(!n.at&&a.setFieldValue(`${i}.at`,null),(n.from||null===n.from)&&a.setFieldValue(`${i}.from`,void 0),(n.to||null===n.to)&&a.setFieldValue(`${i}.to`,void 0))}),[n.type]),(0,x.jsxs)(s.A,{sx:{display:"flex",width:"100%"},children:[(0,x.jsx)(s.A,{sx:{paddingRight:1,flex:1},children:(0,x.jsx)(A.zM,{fieldName:`${i}.type`,label:"Time frame type",items:t,disabled:r,formik:a})},"typeContainer"),n.type===k.P7.FCFS?(0,x.jsxs)(x.Fragment,{children:[(0,x.jsx)(s.A,{sx:{paddingRight:1,paddingLeft:1,flex:1},children:(0,x.jsx)(A.Id,{fieldName:`${i}.from`,label:"From",minDateTime:new Date(Date.now()-864e5),disabled:r,formik:a})},"fromContainer"),(0,x.jsx)(s.A,{sx:{paddingLeft:1,flex:1},children:(0,x.jsx)(A.Id,{fieldName:`${i}.to`,label:"To",minDateTime:new Date(Date.now()-864e5),disabled:r,formik:a})},"toContainer")]}):(0,x.jsx)(s.A,{sx:{paddingLeft:1,flex:1},children:(0,x.jsx)(A.Id,{fieldName:`${i}.at`,label:"At",minDateTime:new Date(Date.now()-864e5),disabled:r,formik:a})},"atContainer")]},"inlineControls")}var v=t(7166);function C(e){let{number:i,fieldName:t,onAdd:r,onRemove:d,removeDisabled:c,disabled:p,formik:b}=e;const[h,y]=l.useState(!1);return(0,x.jsxs)(a.A,{expanded:h,onChange:()=>{y((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,x.jsx)(n.A,{expandIcon:(0,x.jsx)(u.A,{}),"aria-controls":"freight-content",id:"freight-header",children:(0,x.jsxs)(s.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)(m.A,{children:`Freight #${i}`}),(0,x.jsxs)(s.A,{children:[(0,x.jsx)(f.A,{component:"label","aria-label":"add",sx:{padding:0},onClickCapture:e=>{(0,v.d)(e),r()},disabled:p,children:(0,x.jsx)(j.A,{})}),(0,x.jsx)(f.A,{component:"label","aria-label":"remove",sx:{padding:0},onClickCapture:e=>{(0,v.d)(e),d()},disabled:p||c,children:(0,x.jsx)(g,{})})]})]})}),(0,x.jsxs)(o.A,{children:[(0,x.jsx)(A.A_,{fieldName:`${t}.pieces`,label:"Pieces",number:!0,disabled:p,formik:b}),(0,x.jsxs)(s.A,{sx:{display:"flex",width:"100%"},children:[(0,x.jsxs)(s.A,{sx:{paddingRight:1,flex:1},children:[(0,x.jsx)(A.zM,{fieldName:`${t}.unitOfWeight`,label:"Unit Of Weight",items:k.Lv,disabled:p,formik:b}),(0,x.jsx)(A.A_,{fieldName:`${t}.weight`,label:"Weight",number:!0,disabled:p,formik:b})]},"left"),(0,x.jsxs)(s.A,{sx:{paddingLeft:1,flex:1},children:[(0,x.jsx)(A.zM,{fieldName:`${t}.unitOfLength`,label:"Unit Of Length",items:k.Ny,disabled:p,formik:b}),(0,x.jsx)(A.A_,{fieldName:`${t}.length`,label:"Length",number:!0,disabled:p,formik:b})]},"right")]},"inlineControls")]})]})}var N=t(86);function $(e){let{fieldName:i,disabled:t,formik:l}=e;const r=d()(l.values,i);return(0,x.jsx)(s.A,{sx:{paddingBottom:3,width:"100%"},children:r.map(((e,d)=>(0,x.jsx)(C,{number:d+1,fieldName:`${i}[${d}]`,onAdd:()=>(e=>{const t=r.toSpliced(e+1,0,N.initialFreightValues);l.setFieldValue(i,t)})(d),onRemove:()=>(e=>{const t=r.toSpliced(e,1);l.setFieldValue(i,t)})(d),removeDisabled:1===r.length,disabled:t,formik:l},d)))},"freightList")}function w(e){let{number:i,fieldName:t,disabled:r,formik:c}=e;const f=d()(c.values,"id"),p=d()(c.values,`${t}.driversInfoId`),[b,h]=l.useState(!1);return(0,x.jsxs)(a.A,{expanded:b,onChange:()=>{h((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,x.jsx)(n.A,{expandIcon:(0,x.jsx)(u.A,{}),"aria-controls":"freight-content",id:"freight-header",children:(0,x.jsx)(s.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:(0,x.jsx)(m.A,{children:`Drivers Info #${i}`})})}),(0,x.jsxs)(o.A,{children:[(0,x.jsxs)(s.A,{sx:{display:"flex",width:"100%"},children:[(0,x.jsxs)(s.A,{sx:{paddingRight:1,flex:1},children:[(0,x.jsx)(A.A_,{fieldName:`${t}.bol`,label:"Bol",disabled:r,formik:c}),(0,x.jsx)(A.zM,{fieldName:`${t}.unitOfWeight`,label:"Unit Of Weight",items:k.Lv,disabled:r,formik:c}),(0,x.jsx)(A.A_,{fieldName:`${t}.weight`,label:"Weight",number:!0,disabled:r,formik:c})]},"left"),(0,x.jsxs)(s.A,{sx:{paddingLeft:1,flex:1},children:[(0,x.jsx)(A.A_,{fieldName:`${t}.pieces`,label:"Pieces",number:!0,disabled:r,formik:c}),(0,x.jsx)(A.A_,{fieldName:`${t}.seal`,label:"Seal",disabled:r,formik:c}),(0,x.jsx)(A.zM,{fieldName:`${t}.addressIsCorrect`,label:"Address is correct",items:[{value:!0,label:"Yes"},{value:!1,label:"No"}],disabled:r,formik:c})]},"right")]},"inlineControls"),(0,x.jsx)(A.$c,{objectId:f,objectType:"Load",label:"Stop Drivers Files",tags:{[`${p}`]:"StopPickUpDriversInfo"},disabled:r})]})]})}function I(e){let{fieldName:i,disabled:t,formik:l}=e;const r=d()(l.values,i);return(0,x.jsx)(s.A,{sx:{paddingBottom:3,width:"100%"},children:r.map(((e,r)=>(0,x.jsx)(w,{number:r+1,fieldName:`${i}[${r}]`,disabled:t,formik:l},r)))},"freightList")}var S=t(1079);const F=e=>{switch(e){case void 0:case"New":case"GTG":case"Completed":return"";default:return`${e}`}};function T(e){let{stopNumber:i,pickUpNumber:t,fieldName:r,onUp:p,onDown:C,onAdd:N,onRemove:w,upDisabled:T,downDisabled:q,removeDisabled:P,disabled:L,formik:D}=e;const E=d()(D.values,`${r}.status`),R=d()(D.values,`${r}.driversInfo`),O=F(E),U=L||k.h9.at(0)===E||k.h9.at(-1)===E,[B,Y]=l.useState(!1);return(0,x.jsxs)(a.A,{expanded:B,onChange:()=>{Y((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,x.jsx)(n.A,{expandIcon:(0,x.jsx)(u.A,{}),"aria-controls":"stop-pickup-content",id:"stop-pickup-header",children:(0,x.jsxs)(s.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)(m.A,{color:"New"===E?"new":"Completed"===E?"completed":"inProgress",children:`Stop (${i})${O?" ["+O+"] ":" "}PickUp #${t}`}),(0,x.jsxs)(s.A,{children:[(0,x.jsx)(f.A,{component:"label","aria-label":"up",sx:{padding:0},onClickCapture:e=>{(0,v.d)(e),p()},disabled:L||T,children:(0,x.jsx)(b,{})}),(0,x.jsx)(f.A,{component:"label","aria-label":"down",sx:{padding:0},onClickCapture:e=>{(0,v.d)(e),C()},disabled:L||q,children:(0,x.jsx)(h,{})}),(0,x.jsx)(f.A,{component:"label","aria-label":"add",sx:{padding:0},onClickCapture:e=>{(0,v.d)(e),N()},disabled:L,children:(0,x.jsx)(j.A,{})}),(0,x.jsx)(f.A,{component:"label","aria-label":"remove",sx:{padding:0},onClickCapture:e=>{(0,v.d)(e),w()},disabled:L||P,children:(0,x.jsx)(g,{})})]})]})}),(0,x.jsxs)(o.A,{children:[(0,x.jsxs)(s.A,{sx:{display:"flex",width:"100%"},children:[(0,x.jsx)(s.A,{sx:{paddingRight:1,flex:1},children:(0,x.jsx)(A.zM,{fieldName:`${r}.status`,label:"Status",items:k.h9,disabled:U,formik:D})},"statusContainer"),(0,x.jsx)(s.A,{sx:{paddingLeft:1,flex:1},children:(0,x.jsx)(A.Lw,{fieldName:`${r}.facility`,label:"Facility",getSelectedLabel:e=>`${e.name}`,getItemLabel:e=>`${e.name}`,getItemSecondLabel:e=>`${e.address}`,ListIcon:c.A,entityType:"Facility",queryFn:S.Kw,startEmpty:!1,orderby:"name",order:"asc",disabled:L,formik:D})},"facilityContainer")]},"inlineControls"),(0,x.jsx)(y,{fieldName:`${r}.timeFrame`,values:[k.P7.FCFS,k.P7.APPT,k.P7.ASAP],disabled:L,formik:D}),(0,x.jsx)($,{fieldName:`${r}.freightList`,disabled:L,formik:D}),(0,x.jsx)(A.A_,{fieldName:`${r}.addInfo`,label:"Additional stop info",disabled:L,formik:D}),R&&R.length?(0,x.jsx)(I,{fieldName:`${r}.driversInfo`,disabled:L,formik:D}):null]})]})}function q(e){let{number:i,fieldName:t,disabled:r,formik:c}=e;const f=d()(c.values,"id"),p=d()(c.values,`${t}.driversInfoId`),[b,h]=l.useState(!1);return(0,x.jsxs)(a.A,{expanded:b,onChange:()=>{h((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,x.jsx)(n.A,{expandIcon:(0,x.jsx)(u.A,{}),"aria-controls":"freight-content",id:"freight-header",children:(0,x.jsx)(s.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:(0,x.jsx)(m.A,{children:`Drivers Info #${i}`})})}),(0,x.jsxs)(o.A,{children:[(0,x.jsxs)(s.A,{sx:{display:"flex",width:"100%"},children:[(0,x.jsx)(s.A,{sx:{paddingRight:1,flex:1},children:(0,x.jsx)(A.A_,{fieldName:`${t}.bol`,label:"Bol",disabled:r,formik:c})},"left"),(0,x.jsx)(s.A,{sx:{paddingLeft:1,flex:1},children:(0,x.jsx)(A.A_,{fieldName:`${t}.signedBy`,label:"Signed By",disabled:r,formik:c})},"right")]},"inlineControls"),(0,x.jsx)(A.$c,{objectId:f,objectType:"Load",label:"Stop Drivers Files",tags:{[`${p}`]:"StopPickUpDriversInfo"},disabled:r})]})]})}function P(e){let{fieldName:i,disabled:t,formik:l}=e;const r=d()(l.values,i);return(0,x.jsx)(s.A,{sx:{paddingBottom:3,width:"100%"},children:r.map(((e,r)=>(0,x.jsx)(q,{number:r+1,fieldName:`${i}[${r}]`,disabled:t,formik:l},r)))},"freightList")}function L(e){let{stopNumber:i,deliveryNumber:t,fieldName:r,onUp:p,onDown:C,onAdd:N,onRemove:$,upDisabled:w,downDisabled:I,removeDisabled:T,disabled:q,formik:L}=e;const D=d()(L.values,`${r}.status`),E=d()(L.values,`${r}.driversInfo`),R=F(D),O=q||k.$W.at(0)===D||k.$W.at(-1)===D,[U,B]=l.useState(!1);return(0,x.jsxs)(a.A,{expanded:U,onChange:()=>{B((e=>!e))},sx:{backgroundColor:"unset"},children:[(0,x.jsx)(n.A,{expandIcon:(0,x.jsx)(u.A,{}),"aria-controls":"stop-delivery-content",id:"stop-delivery-header",children:(0,x.jsxs)(s.A,{sx:{width:"100%",display:"flex",justifyContent:"space-between"},children:[(0,x.jsx)(m.A,{color:"New"===D?"new":"Completed"===D?"completed":"inProgress",children:`Stop (${i})${R?" ["+R+"] ":" "}Delivery #${t}`}),(0,x.jsxs)(s.A,{children:[(0,x.jsx)(f.A,{component:"label","aria-label":"up",sx:{padding:0},onClickCapture:e=>{(0,v.d)(e),p()},disabled:q||w,children:(0,x.jsx)(b,{})}),(0,x.jsx)(f.A,{component:"label","aria-label":"down",sx:{padding:0},onClickCapture:e=>{(0,v.d)(e),C()},disabled:q||I,children:(0,x.jsx)(h,{})}),(0,x.jsx)(f.A,{component:"label","aria-label":"add",sx:{padding:0},onClickCapture:e=>{(0,v.d)(e),N()},disabled:q,children:(0,x.jsx)(j.A,{})}),(0,x.jsx)(f.A,{component:"label","aria-label":"remove",sx:{padding:0},onClickCapture:e=>{(0,v.d)(e),$()},disabled:q||T,children:(0,x.jsx)(g,{})})]})]})}),(0,x.jsxs)(o.A,{children:[(0,x.jsxs)(s.A,{sx:{display:"flex",width:"100%"},children:[(0,x.jsx)(s.A,{sx:{paddingRight:1,flex:1},children:(0,x.jsx)(A.zM,{fieldName:`${r}.status`,label:"Status",items:k.$W,disabled:O,formik:L})},"statusContainer"),(0,x.jsx)(s.A,{sx:{paddingLeft:1,flex:1},children:(0,x.jsx)(A.Lw,{fieldName:`${r}.facility`,label:"Facility",getSelectedLabel:e=>`${e.name}`,getItemLabel:e=>`${e.name}`,getItemSecondLabel:e=>`${e.address}`,ListIcon:c.A,entityType:"Facility",queryFn:S.Kw,startEmpty:!1,orderby:"name",order:"asc",disabled:q,formik:L})},"facilityContainer")]},"inlineControls"),(0,x.jsx)(y,{fieldName:`${r}.timeFrame`,values:[k.P7.FCFS,k.P7.APPT,k.P7.Direct],disabled:q,formik:L}),(0,x.jsx)(A.A_,{fieldName:`${r}.addInfo`,label:"Additional stop info",disabled:q,formik:L}),E&&E.length?(0,x.jsx)(P,{fieldName:`${r}.driversInfo`,disabled:q,formik:L}):null]})]})}function D(e){let{fieldName:i,disabled:t,formik:l}=e;const r=d()(l.values,i),a=e=>{const t=r[e-1],d=r[e],s=r.toSpliced(e-1,2,d,t);l.setFieldValue(i,s)},n=e=>{const t=r[e],d=r[e+1],s=r.toSpliced(e,2,d,t);l.setFieldValue(i,s)},o=e=>{const t=r.toSpliced(e,1);l.setFieldValue(i,t)};return(0,x.jsx)(s.A,{sx:{paddingBottom:3,width:"100%"},children:r?r.map(((e,d)=>{switch(e.type){case k.lk.PickUp:return(0,x.jsx)(T,{stopNumber:d+1,pickUpNumber:r.slice(0,d+1).filter((e=>e.type===k.lk.PickUp)).length,fieldName:`${i}[${d}]`,onUp:()=>a(d),onDown:()=>n(d),onAdd:()=>(e=>{const t=r.toSpliced(e+1,0,N.initialStopPickUpValues);l.setFieldValue(i,t)})(d),onRemove:()=>o(d),upDisabled:0===d,downDisabled:d===r.length-2||0===d&&r[1].type===k.lk.Delivery,removeDisabled:0===d,disabled:t,formik:l},d);case k.lk.Delivery:return(0,x.jsx)(L,{stopNumber:d+1,deliveryNumber:r.slice(0,d+1).filter((e=>e.type===k.lk.Delivery)).length,fieldName:`${i}[${d}]`,onUp:()=>a(d),onDown:()=>n(d),onAdd:()=>(e=>{const t=r.toSpliced(e+1,0,N.initialStopDeliveryValues);l.setFieldValue(i,t)})(d),onRemove:()=>o(d),upDisabled:d===r.length-1&&r[r.length-2].type===k.lk.PickUp||1===d,downDisabled:d===r.length-1,removeDisabled:d===r.length-1,disabled:t,formik:l},d)}})):null},"stops")}},8833:(e,i,t)=>{t.d(i,{$W:()=>f,IY:()=>a,Jf:()=>u,Ju:()=>s,Lv:()=>p,Ny:()=>x,P7:()=>h,Sr:()=>d,fo:()=>r,h9:()=>m,lk:()=>b,mW:()=>o,p5:()=>n,pI:()=>c,z5:()=>l});const l=["EN","UA","ES","RU"],r=["Admin","Super Admin"],d=["BROKER DOMESTIC","BROKER INTERNATIONAL","FREIGHT FORWARDER DOMESTIC","FREIGHT FORWARDER INTERNATIONAL","SHIPPER/CONSIGNEE DOMESTIC","SHIPPER/CONSIGNEE INTERNATIONAL","OTHER"],s=["Cargo van","Reefer van","Box truck","Box truck Reefer","Straight truck","Hotshot","Tented box"],a=["Available","Not Available","Will be available","On route"],n=["Yes","No"],o=["Hazmat","Tsa","TWIC","Tanker Endorsement"],c=["Dock height risers","Air ride","Lift gate","Keep from freezing","ICC bar","Vertical E-track","Horizontal E-track","Pallet jack","PPE","Ramps","Straps","Loads bars","Blankets","Pads","Fire extinguisher","Metal hooks","Reefer","Heater"],u=["Available","Planned","In Progress","TONU","Cancelled","Completed"],m=["New","On route to PU","On site PU","Loaded, Waiting GTG","GTG","Completed"],f=["New","On route to DEL","On site DEL","Unloaded, Waiting GTG","GTG","Completed"],p=["LBS","KG","TON"],x=["FT","IN","M","CM"];let b=function(e){return e.PickUp="PickUp",e.Delivery="Delivery",e}({}),h=function(e){return e.FCFS="FCFS",e.APPT="APPT",e.ASAP="ASAP",e.Direct="Direct",e}({})},9893:(e,i,t)=>{t.d(i,{A:()=>d});var l=t(9662),r=t(579);const d=(0,l.A)((0,r.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"Person")}}]);
//# sourceMappingURL=384.74d25ad7.chunk.js.map