"use strict";(self.webpackChunk_log4u_admin_frontend=self.webpackChunk_log4u_admin_frontend||[]).push([[3939],{8652:(e,t,n)=>{n.d(t,{h:()=>i});var r=n(5043);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}function s(e,t){let{title:n,titleId:s,...i}=e;return r.createElement("svg",a({id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 128 128",ref:t,"aria-labelledby":s},i),n?r.createElement("title",{id:s},n):null,r.createElement("circle",{cx:64,cy:75,r:45,fill:"none",strokeWidth:10,style:{stroke:"currentcolor"}}),r.createElement("path",{d:"M 96.94 40.17 C 96.94 23.36 82.19 9.73 64 9.73 C 45.81 9.73 31.06 23.36 31.06 40.17",style:{paintOrder:"fill",strokeWidth:6,stroke:"currentcolor",fill:"rgba(255, 255, 255, 0)"}}),r.createElement("polyline",{points:"39.98 19.5 37.64 5.17 50.61 14.17",style:{stroke:"currentcolor",strokeWidth:4,fill:"rgba(0, 0, 0, 0)"}}),r.createElement("polyline",{points:"87.05 19.5 89.39 5.17 76.42 14.17",style:{stroke:"currentcolor",strokeWidth:4,fill:"rgba(0, 0, 0, 0)"}}),r.createElement("path",{d:"M 29.27 108.3 C 28.05 113.07 26.83 117.84 25.62 122.61",style:{stroke:"currentcolor",paintOrder:"stroke",strokeLinecap:"round",strokeWidth:4}}),r.createElement("path",{d:"M 25.72 122.61 C 38.31 122.83 50.91 123.05 63.5 123.28",style:{stroke:"currentcolor",strokeWidth:4,strokeLinecap:"round"}}),r.createElement("path",{d:"M 98.96 108.3 C 100.18 113.07 101.4 117.84 102.61 122.61",style:{strokeLinecap:"round",strokeWidth:4,stroke:"currentcolor",paintOrder:"stroke"}}),r.createElement("path",{d:"M 102.5 122.61 C 88.91 122.85 76.32 123.07 64.72 123.28",style:{strokeLinecap:"round",stroke:"currentcolor",strokeWidth:4}}),r.createElement("polyline",{points:"63 39.5 63 79.5 79.91 93.83",style:{stroke:"currentcolor",strokeWidth:6,paintOrder:"fill",strokeLinecap:"round",fill:"rgba(255, 255, 255, 0)"}}))}const i=r.forwardRef(s);n.p},9801:(e,t,n)=>{n.d(t,{h:()=>i});var r=n(5043);function a(){return a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a.apply(null,arguments)}function s(e,t){let{title:n,titleId:s,...i}=e;return r.createElement("svg",a({focusable:"false","aria-hidden":"true",viewBox:"0 0 24 24","data-testid":"LocalShippingIcon",xmlns:"http://www.w3.org/2000/svg",ref:t,"aria-labelledby":s},i),n?r.createElement("title",{id:s},n):null,r.createElement("path",{d:"m20 8h-3v-4h-14c-1.1 0-2 .9-2 2v11h2c0 1.66 1.34 3 3 3s3-1.34 3-3h6c0 1.66 1.34 3 3 3s3-1.34 3-3h2v-5l-3-4zm-14 10.5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm13.5-9 1.96 2.5h-4.46v-2.5h2.5zm-1.5 9c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zm-14.7-9 1.53 0 0 1.66-3.03 0 1.51-1.66zm2.46-2.74 1.66-1.84 0 4.57.94 0 0 1.66-.94 0 0 1.93-1.66 0 0-6.33zm6.58 6.48c-.37-.06-.72-.19-1.04-.37-.32-.19-.61-.42-.86-.7-.28-.32-.49-.67-.61-1.05-.12-.39-.18-.87-.18-1.44l0-4.51 1.66 0 0 4.36c0 .31.01.57.05.78.03.21.08.39.16.55.08.15.19.28.32.38.14.1.31.19.52.27l0 1.74zm.91-1.74c.21-.07.37-.16.51-.26.14-.1.25-.23.33-.39.08-.14.14-.31.17-.5.03-.2.05-.47.05-.83l0-4.36 1.65 0 0 4.51c0 .58-.06 1.06-.18 1.44-.12.38-.33.73-.61 1.05-.25.29-.54.52-.87.7-.33.18-.68.3-1.04.37l0-1.74z",style:{fillRule:"evenodd",fill:"currentcolor"}}))}const i=r.forwardRef(s);n.p},8807:(e,t,n)=>{n.d(t,{A:()=>m});var r=n(5043),a=n(5563),s=n(950),i=n(9056),l=n(9129),o=n(7392),c=n(7166),d=n(4914),u=n(4133),h=n(5552),p=n(579);function m(e){let{location:t,onRefClick:n,addInfo:m,children:g}=e;const[x,v]=r.useState(null),[f,b]=r.useState([]),[y,A]=r.useState(null),j=r.useMemo((()=>(0,s.A)((e=>{((null===y||void 0===y?void 0:y.geocode(e))||Promise.reject()).then((t=>{if(t.results.length<1&&e.location){const t=new google.maps.LatLng(e.location),n={address_components:[],formatted_address:"[".concat(t.lat(),", ").concat(t.lng(),"]"),geometry:{location:t,location_type:google.maps.GeocoderLocationType.APPROXIMATE,viewport:new google.maps.LatLngBounds},place_id:"[".concat(t.lat(),", ").concat(t.lng(),"]"),types:[]};b([n])}else t.results.forEach((e=>e.formatted_address=(0,l.s)(e.address_components))),b(t.results)})).catch((e=>{b([])}))}),400)),[y]);r.useEffect((()=>{const e=t&&(0,u.U)(f);t&&e&&(null===e||void 0===e?void 0:e.place_id)!==(null===x||void 0===x?void 0:x.place_id)&&v(e)}),[t,f]),r.useEffect((()=>{t?j({location:{lat:t[0],lng:t[1]}}):(b([]),v(null))}),[y,t.join(",")]);return(0,p.jsxs)("span",{style:{display:"flex"},children:[(0,p.jsx)(a.Wrapper,{...(0,h.iz)(),render:e=>{const t=(0,i.dh)(),[,n]=(0,i.pn)();return r.useLayoutEffect((()=>(e===a.Status.LOADING&&n(!0),e===a.Status.FAILURE&&t({severity:"error",message:"Error loading maps!"}),e===a.Status.SUCCESS&&A(new window.google.maps.Geocoder),()=>{e===a.Status.LOADING&&n(!1)})),[e]),null}}),(0,p.jsxs)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",textAlign:"left"},title:"".concat(x?x.formatted_address:"")+"\n"+m,children:[n?(0,p.jsx)("a",{href:"#",target:"_blank",onClick:n,children:x?x.formatted_address:""}):x?x.formatted_address:"",m?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("br",{}),m]}):null,g]}),x?(0,p.jsx)(o.A,{size:"small",onClick:e=>{(0,c.d)(e),navigator.clipboard.writeText(x.formatted_address)},children:(0,p.jsx)(d.A,{sx:{height:"16px",width:"16px"}})}):null]})}},3939:(e,t,n)=>{n.r(t),n.d(t,{default:()=>xe});var r=n(5043),a=n(3216),s=n(9781),i=n(2836),l=n(5604),o=n(4535),c=n(310),d=n(7784),u=n(7739),h=n(2420),p=n(2143),m=n(6446),g=n(1806),x=n(3460),v=n(9650),f=n(4882),b=n(9090),y=n(8076),A=n(8093),j=n(5263),k=n(5865),S=n(3336),w=n(7392),E=n(1045),C=n(1962),O=n(6353),R=n(4406),I=n(1256),P=n(8242),L=n(1833),D=n(4914),T=n(2088),M=n(950),F=n(4681),N=n(147),_=n(1906),z=n(129),W=n(1079),B=n(579);const U=15,G=e=>{let t=(e-new Date)/6e4;return t=t>0?Math.ceil(t):0,t};function H(e){let{truck:t,index:n}=e;const[a,l]=r.useState(0),{reservedAt:o,reservedBy:c}=t,d=o&&(0,z.A)(new Date(o),U),u=new Date<d;r.useEffect((()=>{if(u){l(G(d));const e=setInterval((()=>{l(G(d))}),2e3);return()=>{clearInterval(e),l(0)}}}),[u,d]);const h=(0,s.jE)(),{mutate:p,isLoading:m}=(0,i.n)(W.lO,{onSuccess:()=>{h.invalidateQueries({queryKey:["trucks"],refetchType:"active"})},onError:e=>{}}),g="enhanced-table-checkbox-".concat(n),x="".concat(u&&c?"Reserved by:\n"+c.fullName+"\nTime left: "+a+"min":"");return(0,B.jsx)(_.A,{id:"".concat(g),title:x,sx:{m:1,height:"35px",lineHeight:"normal",fontSize:"x-small"},fullWidth:!0,variant:"contained",size:"small",color:"primary",onClickCapture:e=>{e.preventDefault(),e.stopPropagation(),p({id:t.id,reservedAt:u?null:new Date})},children:u?(0,B.jsxs)("span",{children:["Unreserve",(0,B.jsx)("br",{}),"(",a,"min)"]}):"Reserve"})}var K=n(8652),V=n(9801),q=n(8612),Y=n(8807),Z=n(5563),Q=n(2778),J=n(8903),X=n(9974),$=n(9056),ee=n(9129),te=n(4133),ne=n(5552),re=n(8954);function ae(e){let{label:t,placeholder:n,filterSelectedOptions:a=!1,disabled:s,value:i,setValue:l}=e;const[o,c]=r.useState(null),[u,h]=r.useState([]),[p,g]=r.useState(null),[x,v]=r.useState([]),f=r.useMemo((()=>(0,M.A)((e=>{((null===p||void 0===p?void 0:p.geocode(e))||Promise.reject()).then((t=>{if(t.results.length<1&&e.location){const t=new google.maps.LatLng(e.location),n={address_components:[],formatted_address:"[".concat(t.lat(),", ").concat(t.lng(),"]"),geometry:{location:t,location_type:google.maps.GeocoderLocationType.APPROXIMATE,viewport:new google.maps.LatLngBounds},place_id:"[".concat(t.lat(),", ").concat(t.lng(),"]"),types:[]};h([n])}else t.results.forEach((e=>e.formatted_address=(0,ee.s)(e.address_components))),h(t.results)})).catch((e=>{h([])}))}),400)),[p]);r.useEffect((()=>{o&&!u.find((e=>(null===e||void 0===e?void 0:e.place_id)===(null===o||void 0===o?void 0:o.place_id)))?v([o,...u]):v([...u])}),[u,o]),r.useEffect((()=>{const e=i&&(0,te.U)(u);i&&e&&(null===e||void 0===e?void 0:e.place_id)!==(null===o||void 0===o?void 0:o.place_id)?c(e):i||(h([]),c(null))}),[p,i]);return(0,B.jsxs)(B.Fragment,{children:[(0,B.jsx)(Z.Wrapper,{...(0,ne.iz)(),render:e=>{const t=(0,$.dh)(),[,n]=(0,$.pn)();return r.useLayoutEffect((()=>(e===Z.Status.LOADING&&n(!0),e===Z.Status.FAILURE&&t({severity:"error",message:"Error loading maps!"}),e===Z.Status.SUCCESS&&g(new window.google.maps.Geocoder),()=>{e===Z.Status.LOADING&&n(!1)})),[e]),null}}),(0,B.jsx)(Q.A,{disabled:s,getOptionLabel:e=>"string"===typeof e?e:e.formatted_address||"",filterOptions:e=>e,options:x,isOptionEqualToValue:(e,t)=>(null===e||void 0===e?void 0:e.place_id)===(null===t||void 0===t?void 0:t.place_id),autoComplete:!0,includeInputInList:!0,filterSelectedOptions:a,value:o,noOptionsText:"No data",onChange:(e,t)=>{const n=(0,re.X)(t);c(t),l(n)},onInputChange:(e,t,n)=>{"input"===n&&f({address:t})},renderInput:e=>(0,B.jsx)(d.A,{...e,fullWidth:!0,size:"small",label:t,placeholder:n}),renderOption:(e,t)=>(0,r.createElement)("li",{...e,disabled:s,key:e.key||t.place_id},(0,B.jsxs)(J.Ay,{container:!0,alignItems:"center",children:[(0,B.jsx)(J.Ay,{item:!0,sx:{display:"flex",width:44},children:(0,B.jsx)(X.A,{sx:{color:"text.secondary"}})}),(0,B.jsx)(J.Ay,{item:!0,sx:{width:"calc(100% - 44px)",wordWrap:"break-word"},children:(0,B.jsx)(m.A,{component:"span",sx:{fontWeight:"regular"},children:t.formatted_address})})]}))})]})}var se=n(8833),ie=n(6431),le=n(7166),oe=n(7302),ce=n(9904);const de="dark"===localStorage.getItem("theme")?"dark":"light",ue=[{id:"truckNumber",orderField:"truckNumber",getData:e=>({data:"".concat(e.truckNumber)}),numeric:!0,disablePadding:!1,label:"Truck\xa0Number"},{id:"mainContactInfo",getData:e=>{const t=e.coordinator||e.owner;let n="",r="",a="",s="";return t&&(n="./".concat((0,ie.Yn)(t),"/view/").concat(t.id),r="".concat((0,ie.Pw)(t)," "),a="".concat(t.fullName),s="".concat(null===t||void 0===t?void 0:t.phone)),{data:(0,B.jsxs)("span",{style:{display:"flex"},children:[(0,B.jsxs)("span",{style:{textOverflow:"ellipsis",overflow:"hidden",textAlign:"left"},children:[(0,B.jsx)("b",{children:r}),(0,B.jsx)("a",{href:n,target:"_blank",onClick:le.d,children:a}),(0,B.jsx)("br",{}),(0,B.jsx)("a",{href:s?"tel:".concat(s):void 0,target:"_blank",onClick:le.d,children:s||"\xa0"})]}),(0,B.jsx)(w.A,{size:"small",onClick:e=>{(0,le.d)(e),navigator.clipboard.writeText(a+" "+s)},children:(0,B.jsx)(D.A,{sx:{height:"16px",width:"16px"}})})]}),title:r+""+a+"\n"+s}},numeric:!1,disablePadding:!0,label:"Main\xa0Contact\xa0info"},{id:"truckInfo",getData:e=>{const t=e.type?"".concat(e.type):"",n=e.equipment?"".concat(e.equipment.join(", ")):"";return{data:(0,B.jsxs)("span",{children:[t,(0,B.jsx)("br",{}),n]}),title:t+"\n"+n}},numeric:!1,disablePadding:!0,label:"Truck\xa0info"},{id:"dimsAndPayload",getData:e=>{const t=e.insideDims?"".concat(e.insideDims):"",n=e.doorDims?"".concat(e.doorDims):"",r=e.payload?"".concat(e.payload):"";return{data:(0,B.jsxs)("span",{children:[(t?t+" ":"")+"".concat(n?"("+n+")":""),(0,B.jsx)("br",{}),r]}),title:(t?t+" Inside ":"")+(n?n+" Door ":"")+"\n"+r+" Payload"}},numeric:!1,disablePadding:!0,label:"DIMS/Payload"},{id:"status",orderField:"status",getData:e=>{const t="".concat(e.status),n=(()=>{switch(t){case"Will be available":return(0,B.jsx)(K.h,{style:{height:"24px",width:"24px",color:"dark"===de?F.A[100]:F.A[900]}});case"On route":return(0,B.jsx)(V.h,{style:{height:"24px",width:"24px",color:"dark"===de?F.A[300]:F.A[700]}});case"Available":return(0,B.jsx)(E.A,{sx:{height:"24px",width:"24px",bgcolor:N.A[500],margin:"auto"},children:"A"});case"Not Available":return(0,B.jsx)(E.A,{sx:{height:"24px",width:"24px",bgcolor:F.A[500],margin:"auto"},children:"N"});default:return t}})();return{data:(0,B.jsx)("span",{children:n}),title:t}},numeric:!1,disablePadding:!0,label:"Status"},{id:"willBeAtLocation",getData:e=>{if(null!==e&&void 0!==e&&e.availabilityLocation){const t="".concat(e.availabilityAtLocal?ce.k.format((0,oe.bb)(e.availabilityAtLocal)):"");return{data:(0,B.jsx)(Y.A,{location:e.availabilityLocation,addInfo:t})}}return{data:""}},numeric:!1,disablePadding:!0,label:"Will\xa0be\xa0at\xa0location"},{id:"roadsDistance",getData:e=>({data:"".concat(e.milesByRoads?e.milesByRoads.toFixed(2):"")}),numeric:!1,disablePadding:!0,label:"Road\xa0distance"},{id:"location",getData:(e,t)=>{const n=n=>{n.preventDefault(),(0,le.d)(n),t([e])};if(null!==e&&void 0!==e&&e.lastLocation){const t="".concat(e.locationUpdatedAt?ce.k.format(new Date(e.locationUpdatedAt)):"");return{data:(0,B.jsx)(Y.A,{location:e.lastLocation,onRefClick:n,addInfo:t})}}return{data:""}},numeric:!1,disablePadding:!0,label:"Last\xa0known\xa0location"}],he=(0,o.Ay)(f.A)((e=>{let{theme:t}=e;return{backgroundColor:t.palette.background.default}})),pe=(0,o.Ay)(h.A)((e=>{let{theme:t}=e;return{maxWidth:"100px",paddingTop:"6px",paddingBottom:"6px",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}}));function me(e){const{onSelectAllClick:t,order:n,orderBy:r,numSelected:a,rowCount:s,onRequestSort:i}=e;return(0,B.jsx)(he,{children:(0,B.jsxs)(y.A,{children:[(0,B.jsx)(pe,{align:"center",padding:"checkbox",children:"Actions"}),ue.map((e=>{return(0,B.jsx)(pe,{align:e.numeric?"right":"center",padding:e.disablePadding?"none":"normal",sortDirection:r===e.id&&n,children:(0,B.jsxs)(A.A,{active:e.orderField&&r===e.orderField,hideSortIcon:!e.orderField,direction:r===e.orderField?n:"asc",onClick:e.orderField?(t=e.orderField,e=>{i(e,t)}):()=>{},children:[e.label,e.orderField&&r===e.orderField?(0,B.jsx)(m.A,{component:"span",sx:T.A,children:"desc"===n?"sorted descending":"sorted ascending"}):null]})},e.id);var t}))]})})}function ge(e){const{selected:t,setQueryParams:n}=e,[o,h]=r.useState(void 0),[g,x]=r.useState(""),[v,f]=r.useState({}),[b,y]=r.useState([]),[A,S]=r.useState(null),[E,D]=r.useState(null),[T,F]=r.useState(!1),[N,_]=r.useState(!1),[z,U]=r.useState(!1),[G,H]=r.useState(["Available"]),[K,V]=r.useState(200),[Y,Z]=r.useState(!1),Q=((0,a.zy)(),(0,a.Zp)(),(0,s.jE)()),J=(0,$.dh)(),{mutate:X,isLoading:ee}=(0,i.n)(W.pF,{onSuccess:()=>{J({severity:"success",message:"Deleted"}),Q.invalidateQueries(["trucks"])},onError:e=>{J({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),{data:{items:te}={items:[],total:0}}=(r.useMemo((()=>(0,M.A)((e=>{f({search:e})}),400)),[]),(0,l.I)({queryKey:["locations",0,15,"name","asc",v],queryFn:(0,ie.mV)(W.RE,!0),keepPreviousData:!0,retry:!1})),ne=()=>{T||N||(n((e=>{const t={...e};return A&&(t.availableAfter=A),E&&(t.availableBefore=E),t})),Z(!1))},re=()=>{U(!1),oe()},oe=()=>{G.length&&G.length!==se.IY.length?(n((e=>({...e,status:G}))),Z(!1)):(n((e=>{const{status:t,...n}=e;return{...n}})),Z(!1))};return(0,B.jsxs)(j.A,{sx:{overflow:"hidden",pl:{sm:2},pr:{xs:1,sm:1},...t.length>0&&{bgcolor:e=>(0,c.X4)(e.palette.primary.main,e.palette.action.activatedOpacity)}},children:[t.length>0?(0,B.jsxs)(k.A,{sx:{flex:"1 1 100%"},color:"inherit",variant:"subtitle1",component:"div",children:[t.length," selected"]}):(0,B.jsx)(k.A,{sx:{flex:"1 1 100%",whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden"},variant:"h6",id:"tableTitle",component:"div",children:"Trucks Nearby"}),(0,B.jsx)(m.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"350px"}},children:(0,B.jsx)(ae,{label:"Enter city, state or zip",value:o,setValue:e=>{h(e),e?(n((t=>({...t,lastLocation:e.join(","),distance:K}))),Z(!1)):(x(""),n((e=>{const{lastLocation:t,distance:n,...r}=e;return r})),Z(!1))}})}),(0,B.jsx)(m.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"200px"}},children:(0,B.jsx)(I.K,{label:"Select available from",ampm:!1,disablePast:!0,maxDateTime:E||void 0,disableIgnoringDatePartForTimeValidation:!0,viewRenderers:{hours:R.Zo,minutes:R.Zo,seconds:R.Zo},slotProps:{textField:{fullWidth:!0,size:"small",id:"availableFrom",name:"Select available from",onBlur:ne}},value:A,onChange:e=>{S(e),Z(!0)},onClose:ne,onError:e=>{F(!!e)}})}),(0,B.jsx)(m.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"200px"}},children:(0,B.jsx)(I.K,{label:"Select available to",ampm:!1,disablePast:!0,minDateTime:A||void 0,disableIgnoringDatePartForTimeValidation:!0,viewRenderers:{hours:R.Zo,minutes:R.Zo,seconds:R.Zo},slotProps:{textField:{fullWidth:!0,size:"small",id:"availableTo",name:"Select available to",onBlur:ne}},value:E,onChange:e=>{D(e),Z(!0)},onClose:ne,onError:e=>{_(!!e)}})}),(0,B.jsx)(m.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"140px"}},children:(0,B.jsx)(d.A,{select:!0,SelectProps:{multiple:!0,open:z,renderValue:e=>e.join(", "),onOpen:()=>{U(!0)},onClose:re},label:"Select Status",value:G,onChange:e=>{H(e.target.value),Z(!0)},onKeyUpCapture:e=>{"Enter"===e.key&&((0,le.d)(e),re())},onKeyDownCapture:e=>{"Enter"===e.key&&(0,le.d)(e)},onBlur:oe,size:"small",fullWidth:!0,title:G.join(", "),children:se.IY.map((e=>(0,B.jsxs)(p.A,{value:e,children:[(0,B.jsx)(C.A,{checked:G.indexOf(e)>-1,id:e}),(0,B.jsx)(O.A,{primary:e})]},e)))})}),(0,B.jsx)(m.A,{component:"div",sx:{"& .MuiTextField-root":{m:1,width:"140px"}},children:(0,B.jsx)(d.A,{select:!0,label:"Select Distance",value:K,onChange:e=>{Number.isInteger(Number(e.target.value))&&(V(Number(e.target.value)),o&&(n((t=>({...t,distance:Number(e.target.value)}))),Z(!1)))},size:"small",fullWidth:!0,children:Array.from({length:20},((e,t)=>50+50*t)).map((e=>(0,B.jsx)(p.A,{value:e,children:e},e)))})}),(0,B.jsx)(u.A,{title:"Filter list",children:Y||!(o||A||E||0!==G.length&&G.length!==se.IY.length)?(0,B.jsx)("span",{children:(0,B.jsx)(w.A,{disabled:(!o||!K)&&!(A||E||0!==G.length&&G.length!==se.IY.length)||T||N,onClick:()=>{const e={};o&&(e.lastLocation=o.join(","),e.distance=K),0!==G.length&&G.length!==se.IY.length&&(e.status=G),e.availableAfter=A,e.availableBefore=E,n(e),Z(!1)},children:(0,B.jsx)(P.A,{})})}):(0,B.jsx)("span",{children:(0,B.jsx)(w.A,{onClick:()=>{h(void 0),S(null),D(null),H([...se.IY]),V(200),n({}),Z(!1)},children:(0,B.jsx)(L.A,{})})})}),(0,B.jsx)(q.A,{visible:ee})]})}function xe(){const[e,t]=r.useState(void 0),[n,s]=r.useState(void 0),[i,o]=r.useState([]),[c,d]=r.useState(0),[u,h]=r.useState(15),[p,f]=r.useState({status:["Available"]}),A=r.useRef(null),j=(0,a.zy)(),k=(0,a.Zp)(),w=(0,$.dh)(),[,E]=(0,$.ko)(),{isLoading:C,isFetching:O,data:{items:R,total:I}={items:[],total:0}}=(0,l.I)({queryKey:["trucks",c,u,n,e,p],queryFn:W.fG,keepPreviousData:!0,retry:!1,onError:e=>{w({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),P=R||[];r.useEffect((()=>{if(A.current){A.current.scrollTo({top:0,left:0,behavior:"smooth"})}}),[P]),r.useEffect((()=>{const e=[];i.forEach((t=>{P.find((e=>e.id===t))&&e.push(t)})),o(e)}),[P]);return(0,B.jsxs)(m.A,{sx:{width:"100%",height:"100%"},children:[(0,B.jsxs)(S.A,{sx:{width:"100%",height:"100%",backgroundColor:"unset"},children:[(0,B.jsx)(ge,{selected:i,setQueryParams:e=>{f(e),d(0)}}),(0,B.jsx)(v.A,{ref:A,sx:{height:"calc(100% - 115px)"},children:(0,B.jsxs)(g.A,{sx:{minWidth:750},"aria-labelledby":"tableTitle",size:"small",stickyHeader:!0,children:[(0,B.jsx)(me,{numSelected:i.length,order:e,orderBy:n,onSelectAllClick:e=>{if(e.target.checked){const e=P.map((e=>e.id));o(e)}else o([])},onRequestSort:(r,a)=>{const i=n===a&&"asc"===e;n===a&&"desc"===e?(t(void 0),s(void 0)):(t(i?"desc":"asc"),s(a))},rowCount:P.length}),(0,B.jsx)(x.A,{children:P.map(((e,t)=>{const n=(r="".concat(e.id),-1!==i.indexOf(r));var r;return(0,B.jsxs)(y.A,{hover:!0,onDoubleClick:t=>{k("./view/".concat(e.id),{relative:"path",state:{from:j},replace:!1})},role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,sx:{cursor:"pointer"},children:[(0,B.jsx)(pe,{padding:"checkbox",children:(0,B.jsx)(H,{truck:e,index:t})}),ue.map((t=>{const n=t.getData(e,E);return(0,B.jsx)(pe,{title:n.title,align:t.numeric?"right":"center",children:n.data},t.id)}))]},e.id)}))})]})}),(0,B.jsx)(b.A,{rowsPerPageOptions:[5,10,15,20,25,35,50],component:"div",count:I,rowsPerPage:u,page:c,onPageChange:(e,t)=>{d(t)},onRowsPerPageChange:e=>{h(parseInt(e.target.value,10)),d(0)}})]}),(0,B.jsx)(q.A,{visible:C||O})]})}},8833:(e,t,n)=>{n.d(t,{IY:()=>l,Jf:()=>u,Ju:()=>i,Lv:()=>h,Ny:()=>p,P7:()=>g,Sr:()=>s,fo:()=>a,lk:()=>m,mW:()=>c,p5:()=>o,pI:()=>d,z5:()=>r});const r=["EN","UA","ES","RU"],a=["Admin","Super Admin"],s=["BROKER DOMESTIC","BROKER INTERNATIONAL","FREIGHT FORWARDER DOMESTIC","FREIGHT FORWARDER INTERNATIONAL","SHIPPER/CONSIGNEE DOMESTIC","SHIPPER/CONSIGNEE INTERNATIONAL","OTHER"],i=["Cargo van","Reefer van","Box truck","Box truck Reefer","Straight truck","Hotshot","Tented box"],l=["Available","Not Available","Will be available","On route"],o=["Yes","No"],c=["Hazmat","Tsa","TWIC","Tanker Endorsement"],d=["Dock height risers","Air ride","Lift gate","Keep from freezing","ICC bar","Vertical E-track","Horizontal E-track","Pallet jack","PPE","Ramps","Straps","Loads bars","Blankets","Pads","Fire extinguisher","Metal hooks","Reefer","Heater"],u=["Available","Planned","In Progress","TONU","Cancelled","Completed"],h=["LBS","KG","TON"],p=["FT","IN","M","CM"];let m=function(e){return e.PickUp="PickUp",e.Delivery="Delivery",e}({}),g=function(e){return e.FCFS="FCFS",e.APPT="APPT",e.ASAP="ASAP",e.Direct="Direct",e}({})},9904:(e,t,n)=>{n.d(t,{k:()=>r});const r=Intl.DateTimeFormat("en-US",{year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!0})},7166:(e,t,n)=>{function r(e){e.stopPropagation()}n.d(t,{d:()=>r})},4914:(e,t,n)=>{var r=n(4994);t.A=void 0;var a=r(n(39)),s=n(579);t.A=(0,a.default)((0,s.jsx)("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2m0 16H8V7h11z"}),"ContentCopy")},2836:(e,t,n)=>{n.d(t,{n:()=>h});var r=n(5043),a=n(8664),s=n(116),i=n(9939),l=n(2078);class o extends l.Q{constructor(e,t){super(),this.client=e,this.setOptions(t),this.bindMethods(),this.updateResult()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var t;const n=this.options;this.options=this.client.defaultMutationOptions(e),(0,a.f8)(n,this.options)||this.client.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.currentMutation,observer:this}),null==(t=this.currentMutation)||t.setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(null==(e=this.currentMutation)||e.removeObserver(this))}onMutationUpdate(e){this.updateResult();const t={listeners:!0};"success"===e.type?t.onSuccess=!0:"error"===e.type&&(t.onError=!0),this.notify(t)}getCurrentResult(){return this.currentResult}reset(){this.currentMutation=void 0,this.updateResult(),this.notify({listeners:!0})}mutate(e,t){return this.mutateOptions=t,this.currentMutation&&this.currentMutation.removeObserver(this),this.currentMutation=this.client.getMutationCache().build(this.client,{...this.options,variables:"undefined"!==typeof e?e:this.options.variables}),this.currentMutation.addObserver(this),this.currentMutation.execute()}updateResult(){const e=this.currentMutation?this.currentMutation.state:(0,s.$)(),t={...e,isLoading:"loading"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset};this.currentResult=t}notify(e){i.j.batch((()=>{var t,n,r,a;if(this.mutateOptions&&this.hasListeners())if(e.onSuccess)null==(t=(n=this.mutateOptions).onSuccess)||t.call(n,this.currentResult.data,this.currentResult.variables,this.currentResult.context),null==(r=(a=this.mutateOptions).onSettled)||r.call(a,this.currentResult.data,null,this.currentResult.variables,this.currentResult.context);else if(e.onError){var s,i,l,o;null==(s=(i=this.mutateOptions).onError)||s.call(i,this.currentResult.error,this.currentResult.variables,this.currentResult.context),null==(l=(o=this.mutateOptions).onSettled)||l.call(o,void 0,this.currentResult.error,this.currentResult.variables,this.currentResult.context)}e.listeners&&this.listeners.forEach((e=>{let{listener:t}=e;t(this.currentResult)}))}))}}var c=n(8873),d=n(9781),u=n(4084);function h(e,t,n){const s=(0,a.GR)(e,t,n),l=(0,d.jE)({context:s.context}),[h]=r.useState((()=>new o(l,s)));r.useEffect((()=>{h.setOptions(s)}),[h,s]);const m=(0,c.r)(r.useCallback((e=>h.subscribe(i.j.batchCalls(e))),[h]),(()=>h.getCurrentResult()),(()=>h.getCurrentResult())),g=r.useCallback(((e,t)=>{h.mutate(e,t).catch(p)}),[h]);if(m.error&&(0,u.G)(h.options.useErrorBoundary,[m.error]))throw m.error;return{...m,mutate:g,mutateAsync:m.mutate}}function p(){}}}]);
//# sourceMappingURL=3939.12f6f6cb.chunk.js.map