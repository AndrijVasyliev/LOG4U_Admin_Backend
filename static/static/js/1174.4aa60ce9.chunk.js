"use strict";(self.webpackChunk_log4u_admin_frontend=self.webpackChunk_log4u_admin_frontend||[]).push([[1174],{1174:(e,i,t)=>{t.r(i),t.d(i,{default:()=>j});var a=t(5043),r=t(9781),s=t(5604),n=t(2836),o=t(3892),d=t(899),l=t(7353),u=t(1906),m=t(3189),c=t(1079),h=t(908),f=t(6431),x=t(579);const p=d.Ik({zipCode:d.Yj().required("Zip Code is required"),name:d.Yj().required("Name is required"),stateCode:d.Yj().required("State Code is required"),stateName:d.Yj().required("State Name is required"),location:d.PV([d.ai().typeError("Latitude is required").min(-90,"Latitude must be grater than or equal: -90").max(90,"Latitude must be less than or equal: 90").required('Location should be in format "latitude, longitude"'),d.ai().typeError("Longitude is required").min(-180,"Longitude must be grater than or equal: -180").max(180,"Longitude must be less than or equal: 180").required('Location should be in format "latitude, longitude"')]).required("Location is required")}),g={id:"",zipCode:"",name:"",stateCode:"",stateName:"",location:[NaN,NaN]};function j(e){let{id:i,onClose:t}=e;const d=(0,r.jE)(),j=(0,h.dh)(),{isLoading:b,isFetching:y,error:q,data:N}=(0,s.I)({queryKey:["location",i],queryFn:c.o,retry:!1});a.useEffect((()=>{q&&j({severity:"error",message:q instanceof Error?q.message:JSON.stringify(q)})}),[q]);const{mutate:C,isLoading:A}=(0,n.n)(c.T,{onSuccess:e=>{j({severity:"success",message:"Saved"}),d.invalidateQueries(["location",i]),d.invalidateQueries(["locations"]),t("Save",e)},onError:e=>{j({severity:"error",message:e instanceof Error?e.message:JSON.stringify(e)})}}),v=(0,o.Wx)({initialValues:{...g,...(0,f.jv)(N,Object.keys(g))},enableReinitialize:!0,validationSchema:p,onSubmit:e=>{C(e)}});return(0,x.jsxs)(l.A,{children:[(0,x.jsx)("form",{onSubmit:v.handleSubmit,onReset:v.handleReset,children:(0,x.jsxs)(l.A,{sx:{p:3,display:"grid"},children:[(0,x.jsxs)(l.A,{sx:{display:"inline-flex"},children:[(0,x.jsxs)(l.A,{sx:{p:1,width:"50%"},children:[(0,x.jsx)(m.A_,{fieldName:"name",label:"Name",formik:v}),(0,x.jsx)(m.A_,{fieldName:"stateName",label:"State Name",formik:v})]},"left"),(0,x.jsxs)(l.A,{sx:{p:1,width:"50%"},children:[(0,x.jsx)(m.A_,{fieldName:"zipCode",label:"Zip Code",formik:v}),(0,x.jsx)(m.A_,{fieldName:"stateCode",label:"State Code",formik:v})]},"right")]},"controls"),(0,x.jsx)(l.A,{sx:{marginTop:-2,display:"inline-flex"},children:(0,x.jsx)(m.QI,{fieldName:"location",label:["Latitude","Longitude"],formik:v})},"location"),(0,x.jsxs)(l.A,{sx:{display:"inline-flex"},children:[(0,x.jsx)(l.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,x.jsx)(u.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"submit",disabled:!v.dirty,children:"Save"})},"left"),(0,x.jsx)(l.A,{sx:{p:1,paddingTop:0,width:"50%"},children:(0,x.jsx)(u.A,{fullWidth:!0,variant:"contained",size:"small",color:"primary",type:"button",onClick:()=>{t("Close")},children:"Cancel"})},"right")]},"buttons")]})}),(0,x.jsx)(m.aH,{visible:A||b||y})]})}}}]);
//# sourceMappingURL=1174.4aa60ce9.chunk.js.map